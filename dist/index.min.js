function e(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function t(e,...t){if(!((r=e)instanceof Uint8Array||ArrayBuffer.isView(r)&&"Uint8Array"===r.constructor.name))throw new Error("Uint8Array expected");var r;if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function r(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function n(e,r){t(e);const n=r.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const o="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;
/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function i(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function s(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function c(e,t){return e<<32-t|e>>>t}function a(e,t){return e<<t|e>>>32-t>>>0}const h=(()=>68===new Uint8Array(new Uint32Array([287454020]).buffer)[0])();function d(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const l=h?e=>e:e=>d(e);function f(e){for(let t=0;t<e.length;t++)e[t]=d(e[t])}const u=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function w(e){t(e);let r="";for(let t=0;t<e.length;t++)r+=u[e[t]];return r}function A(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function g(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,o=0;t<r;t++,o+=2){const r=A(e.charCodeAt(o)),i=A(e.charCodeAt(o+1));if(void 0===r||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[t]=16*r+i}return n}function p(e){if("string"!=typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function y(e){return"string"==typeof e&&(e=p(e)),t(e),e}function m(...e){let r=0;for(let n=0;n<e.length;n++){const o=e[n];t(o),r+=o.length}const n=new Uint8Array(r);for(let t=0,r=0;t<e.length;t++){const o=e[t];n.set(o,r),r+=o.length}return n}class b{clone(){return this._cloneInto()}}function E(e){const t=t=>e().update(y(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function x(e){const t=(t,r)=>e(r).update(y(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}function B(e=32){if(o&&"function"==typeof o.getRandomValues)return o.getRandomValues(new Uint8Array(e));if(o&&"function"==typeof o.randomBytes)return o.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function U(e,t,r){return e&t^e&r^t&r}class v extends b{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=s(this.buffer)}update(e){r(this);const{view:t,buffer:n,blockLen:o}=this,i=(e=y(e)).length;for(let r=0;r<i;){const c=Math.min(o-this.pos,i-r);if(c!==o)n.set(e.subarray(r,r+c),this.pos),this.pos+=c,r+=c,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=s(e);for(;o<=i-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){r(this),n(e,this),this.finished=!0;const{buffer:t,view:o,blockLen:i,isLE:c}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(o,0),a=0);for(let e=a;e<i;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);const o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),c=Number(r&i),a=n?4:0,h=n?0:4;e.setUint32(t+a,s,n),e.setUint32(t+h,c,n)}(o,i-8,BigInt(8*this.length),c),this.process(o,0);const h=s(e),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=d/4,f=this.get();if(l>f.length)throw new Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)h.setUint32(4*e,f[e],c)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:o,destroyed:i,pos:s}=this;return e.length=n,e.pos=s,e.finished=o,e.destroyed=i,n%t&&e.buffer.set(r),e}}const C=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),k=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),L=new Uint32Array(64);class I extends v{constructor(){super(64,32,8,!1),this.A=0|k[0],this.B=0|k[1],this.C=0|k[2],this.D=0|k[3],this.E=0|k[4],this.F=0|k[5],this.G=0|k[6],this.H=0|k[7]}get(){const{A:e,B:t,C:r,D:n,E:o,F:i,G:s,H:c}=this;return[e,t,r,n,o,i,s,c]}set(e,t,r,n,o,i,s,c){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|o,this.F=0|i,this.G=0|s,this.H=0|c}process(e,t){for(let r=0;r<16;r++,t+=4)L[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){const t=L[e-15],r=L[e-2],n=c(t,7)^c(t,18)^t>>>3,o=c(r,17)^c(r,19)^r>>>10;L[e]=o+L[e-7]+n+L[e-16]|0}let{A:r,B:n,C:o,D:i,E:s,F:a,G:h,H:d}=this;for(let e=0;e<64;e++){const t=d+(c(s,6)^c(s,11)^c(s,25))+((l=s)&a^~l&h)+C[e]+L[e]|0,f=(c(r,2)^c(r,13)^c(r,22))+U(r,n,o)|0;d=h,h=a,a=s,s=i+t|0,i=o,o=n,n=r,r=t+f|0}var l;r=r+this.A|0,n=n+this.B|0,o=o+this.C|0,i=i+this.D|0,s=s+this.E|0,a=a+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(r,n,o,i,s,a,h,d)}roundClean(){L.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const T=E((()=>new I));class D extends b{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,function(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");e(t.outputLen),e(t.blockLen)}(t);const n=y(r);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?t.create().update(n).digest():n);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=t.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return r(this),this.iHash.update(e),this}digestInto(e){r(this),t(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:o,blockLen:i,outputLen:s}=this;return e.finished=n,e.destroyed=o,e.blockLen=i,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const S=(e,t,r)=>new D(e,t).update(r).digest();S.create=(e,t)=>new D(e,t)
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */;const Q=BigInt(0),O=BigInt(1),N=BigInt(2);function H(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function F(e){if(!H(e))throw new Error("Uint8Array expected")}function R(e,t){if("boolean"!=typeof t)throw new Error(e+" boolean expected, got "+t)}const M=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function V(e){F(e);let t="";for(let r=0;r<e.length;r++)t+=M[e[r]];return t}function G(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function z(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?Q:BigInt("0x"+e)}function K(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:void 0}function J(e){if("string"!=typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let t=0,o=0;t<r;t++,o+=2){const r=K(e.charCodeAt(o)),i=K(e.charCodeAt(o+1));if(void 0===r||void 0===i){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[t]=16*r+i}return n}function P(e){return z(V(e))}function j(e){return F(e),z(V(Uint8Array.from(e).reverse()))}function Y(e,t){return J(e.toString(16).padStart(2*t,"0"))}function q(e,t){return Y(e,t).reverse()}function Z(e,t,r){let n;if("string"==typeof t)try{n=J(t)}catch(t){throw new Error(e+" must be hex string or Uint8Array, cause: "+t)}else{if(!H(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const o=n.length;if("number"==typeof r&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function W(...e){let t=0;for(let r=0;r<e.length;r++){const n=e[r];F(n),t+=n.length}const r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){const o=e[t];r.set(o,n),n+=o.length}return r}function X(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}const $=e=>"bigint"==typeof e&&Q<=e;function _(e,t,r){return $(e)&&$(t)&&$(r)&&t<=e&&e<r}function ee(e,t,r,n){if(!_(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function te(e){let t;for(t=0;e>Q;e>>=O,t+=1);return t}const re=e=>(N<<BigInt(e-1))-O,ne=e=>new Uint8Array(e),oe=e=>Uint8Array.from(e);function ie(e,t,r){if("number"!=typeof e||e<2)throw new Error("hashLen must be a number");if("number"!=typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=ne(e),o=ne(e),i=0;const s=()=>{n.fill(1),o.fill(0),i=0},c=(...e)=>r(o,n,...e),a=(e=ne())=>{o=c(oe([0]),e),n=c(),0!==e.length&&(o=c(oe([1]),e),n=c())},h=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=c();const t=n.slice();r.push(t),e+=n.length}return W(...r)};return(e,t)=>{let r;for(s(),a(e);!(r=t(h()));)a();return s(),r}}const se={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||H(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function ce(e,t,r={}){const n=(t,r,n)=>{const o=se[r];if("function"!=typeof o)throw new Error("invalid validator function");const i=e[t];if(!(n&&void 0===i||o(i,e)))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+i)};for(const[e,r]of Object.entries(t))n(e,r,!1);for(const[e,t]of Object.entries(r))n(e,t,!0);return e}function ae(e){const t=new WeakMap;return(r,...n)=>{const o=t.get(r);if(void 0!==o)return o;const i=e(r,...n);return t.set(r,i),i}}var he=Object.freeze({__proto__:null,aInRange:ee,abool:R,abytes:F,bitGet:function(e,t){return e>>BigInt(t)&O},bitLen:te,bitMask:re,bitSet:function(e,t,r){return e|(r?O:Q)<<BigInt(t)},bytesToHex:V,bytesToNumberBE:P,bytesToNumberLE:j,concatBytes:W,createHmacDrbg:ie,ensureBytes:Z,equalBytes:X,hexToBytes:J,hexToNumber:z,inRange:_,isBytes:H,memoized:ae,notImplemented:()=>{throw new Error("not implemented")},numberToBytesBE:Y,numberToBytesLE:q,numberToHexUnpadded:G,numberToVarBytesBE:function(e){return J(G(e))},utf8ToBytes:function(e){if("string"!=typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))},validateObject:ce});
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const de=BigInt(0),le=BigInt(1),fe=BigInt(2),ue=BigInt(3),we=BigInt(4),Ae=BigInt(5),ge=BigInt(8);function pe(e,t){const r=e%t;return r>=de?r:t+r}function ye(e,t,r){if(t<de)throw new Error("invalid exponent, negatives unsupported");if(r<=de)throw new Error("invalid modulus");if(r===le)return de;let n=le;for(;t>de;)t&le&&(n=n*e%r),e=e*e%r,t>>=le;return n}function me(e,t,r){let n=e;for(;t-- >de;)n*=n,n%=r;return n}function be(e,t){if(e===de)throw new Error("invert: expected non-zero number");if(t<=de)throw new Error("invert: expected positive modulus, got "+t);let r=pe(e,t),n=t,o=de,i=le;for(;r!==de;){const e=n%r,t=o-i*(n/r);n=r,r=e,o=i,i=t}if(n!==le)throw new Error("invert: does not exist");return pe(o,t)}const Ee=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xe(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function Be(e,t,r=!1,n={}){if(e<=de)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:o,nByteLength:i}=xe(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const c=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:i,MASK:re(o),ZERO:de,ONE:le,create:t=>pe(t,e),isValid:t=>{if("bigint"!=typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return de<=t&&t<e},is0:e=>e===de,isOdd:e=>(e&le)===le,neg:t=>pe(-t,e),eql:(e,t)=>e===t,sqr:t=>pe(t*t,e),add:(t,r)=>pe(t+r,e),sub:(t,r)=>pe(t-r,e),mul:(t,r)=>pe(t*r,e),pow:(e,t)=>function(e,t,r){if(r<de)throw new Error("invalid exponent, negatives unsupported");if(r===de)return e.ONE;if(r===le)return t;let n=e.ONE,o=t;for(;r>de;)r&le&&(n=e.mul(n,o)),o=e.sqr(o),r>>=le;return n}(c,e,t),div:(t,r)=>pe(t*be(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>be(t,e),sqrt:n.sqrt||(t=>(s||(s=function(e){if(e%we===ue){const t=(e+le)/we;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%ge===Ae){const t=(e-Ae)/ge;return function(e,r){const n=e.mul(r,fe),o=e.pow(n,t),i=e.mul(r,o),s=e.mul(e.mul(i,fe),o),c=e.mul(i,e.sub(s,e.ONE));if(!e.eql(e.sqr(c),r))throw new Error("Cannot find square root");return c}}return function(e){const t=(e-le)/fe;let r,n,o;for(r=e-le,n=0;r%fe===de;r/=fe,n++);for(o=fe;o<e&&ye(o,t,e)!==e-le;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){const t=(e+le)/we;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const i=(r+le)/fe;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let c=n,a=e.pow(e.mul(e.ONE,o),r),h=e.pow(s,i),d=e.pow(s,r);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<c&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const r=e.pow(a,le<<BigInt(c-t-1));a=e.sqr(r),h=e.mul(h,r),d=e.mul(d,a),c=t}return h}}(e)}(e)),s(c,t))),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,o)=>e.is0(n)?t:(r[o]=t,e.mul(t,n))),e.ONE),o=e.inv(n);return t.reduceRight(((t,n,o)=>e.is0(n)?t:(r[o]=e.mul(t,r[o]),e.mul(t,n))),o),r}(c,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?q(e,i):Y(e,i),fromBytes:e=>{if(e.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+e.length);return r?j(e):P(e)}});return Object.freeze(c)}function Ue(e){if("bigint"!=typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function ve(e){const t=Ue(e);return t+Math.ceil(t/2)}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const Ce=BigInt(0),ke=BigInt(1);function Le(e,t){const r=t.negate();return e?r:t}function Ie(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Te(e,t){return Ie(e,t),{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}const De=new WeakMap,Se=new WeakMap;function Qe(e){return Se.get(e)||1}function Oe(e){return ce(e.Fp,Ee.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),ce(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...xe(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ne(e){void 0!==e.lowS&&R("lowS",e.lowS),void 0!==e.prehash&&R("prehash",e.prehash)}const{bytesToNumberBE:He,hexToBytes:Fe}=he;class Re extends Error{constructor(e=""){super(e)}}const Me={Err:Re,_tlv:{encode:(e,t)=>{const{Err:r}=Me;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,o=G(n);if(o.length/2&128)throw new r("tlv.encode: long form length too big");const i=n>127?G(o.length/2|128):"";return G(e)+i+o+t},decode(e,t){const{Err:r}=Me;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const o=t[n++];let i=0;if(128&o){const e=127&o;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(const e of s)i=i<<8|e;if(n+=e,i<128)throw new r("tlv.decode(long): not minimal encoding")}else i=o;const s=t.subarray(n,n+i);if(s.length!==i)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+i)}}},_int:{encode(e){const{Err:t}=Me;if(e<Ve)throw new t("integer: negative integers are not allowed");let r=G(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=Me;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return He(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=Me,o="string"==typeof e?Fe(e):e;F(o);const{v:i,l:s}=n.decode(48,o);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:a}=n.decode(2,i),{v:h,l:d}=n.decode(2,a);if(d.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(h)}},hexFromSig(e){const{_tlv:t,_int:r}=Me,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},Ve=BigInt(0),Ge=BigInt(1);BigInt(2);const ze=BigInt(3);function Ke(e){const t=function(e){const t=Oe(e);ce(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:o}=t;if(r){if(!n.eql(o,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=Be(t.n,t.nBitLength),o=t.toBytes||((e,t,n)=>{const o=t.toAffine();return W(Uint8Array.from([4]),r.toBytes(o.x),r.toBytes(o.y))}),i=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){const{a:n,b:o}=t,i=r.sqr(e),s=r.mul(i,e);return r.add(r.add(s,r.mul(e,n)),o)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function c(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:o,n:i}=t;if(r&&"bigint"!=typeof e){if(H(e)&&(e=V(e)),"string"!=typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*n,"0")}let s;try{s="bigint"==typeof e?e:P(Z("private key",e,n))}catch(t){throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return o&&(s=pe(s,i)),ee("private key",s,Ge,i),s}function a(e){if(!(e instanceof l))throw new Error("ProjectivePoint expected")}const h=ae(((e,t)=>{const{px:n,py:o,pz:i}=e;if(r.eql(i,r.ONE))return{x:n,y:o};const s=e.is0();null==t&&(t=s?r.ONE:r.inv(i));const c=r.mul(n,t),a=r.mul(o,t),h=r.mul(i,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(h,r.ONE))throw new Error("invZ was invalid");return{x:c,y:a}})),d=ae((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:o}=e.toAffine();if(!r.isValid(n)||!r.isValid(o))throw new Error("bad point: x or y not FE");const i=r.sqr(o),c=s(n);if(!r.eql(i,c))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class l{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof l)throw new Error("projective point not allowed");const o=e=>r.eql(e,r.ZERO);return o(t)&&o(n)?l.ZERO:new l(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(l.fromAffine)}static fromHex(e){const t=l.fromAffine(i(Z("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return l.BASE.multiply(c(e))}static msm(e,t){return function(e,t,r,n){if(function(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))}(r,e),function(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,i=te(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,c=(1<<s)-1,a=new Array(c+1).fill(o);let h=o;for(let e=Math.floor((t.BITS-1)/s)*s;e>=0;e-=s){a.fill(o);for(let t=0;t<n.length;t++){const o=n[t],i=Number(o>>BigInt(e)&BigInt(c));a[i]=a[i].add(r[t])}let t=o;for(let e=a.length-1,r=o;e>0;e--)r=r.add(a[e]),t=t.add(r);if(h=h.add(t),0!==e)for(let e=0;e<s;e++)h=h.double()}return h}(l,n,e,t)}_setWindowSize(e){u.setWindowSize(this,e)}assertValidity(){d(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){a(e);const{px:t,py:n,pz:o}=this,{px:i,py:s,pz:c}=e,h=r.eql(r.mul(t,c),r.mul(i,o)),d=r.eql(r.mul(n,c),r.mul(s,o));return h&&d}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,o=r.mul(n,ze),{px:i,py:s,pz:c}=this;let a=r.ZERO,h=r.ZERO,d=r.ZERO,f=r.mul(i,i),u=r.mul(s,s),w=r.mul(c,c),A=r.mul(i,s);return A=r.add(A,A),d=r.mul(i,c),d=r.add(d,d),a=r.mul(e,d),h=r.mul(o,w),h=r.add(a,h),a=r.sub(u,h),h=r.add(u,h),h=r.mul(a,h),a=r.mul(A,a),d=r.mul(o,d),w=r.mul(e,w),A=r.sub(f,w),A=r.mul(e,A),A=r.add(A,d),d=r.add(f,f),f=r.add(d,f),f=r.add(f,w),f=r.mul(f,A),h=r.add(h,f),w=r.mul(s,c),w=r.add(w,w),f=r.mul(w,A),a=r.sub(a,f),d=r.mul(w,u),d=r.add(d,d),d=r.add(d,d),new l(a,h,d)}add(e){a(e);const{px:n,py:o,pz:i}=this,{px:s,py:c,pz:h}=e;let d=r.ZERO,f=r.ZERO,u=r.ZERO;const w=t.a,A=r.mul(t.b,ze);let g=r.mul(n,s),p=r.mul(o,c),y=r.mul(i,h),m=r.add(n,o),b=r.add(s,c);m=r.mul(m,b),b=r.add(g,p),m=r.sub(m,b),b=r.add(n,i);let E=r.add(s,h);return b=r.mul(b,E),E=r.add(g,y),b=r.sub(b,E),E=r.add(o,i),d=r.add(c,h),E=r.mul(E,d),d=r.add(p,y),E=r.sub(E,d),u=r.mul(w,b),d=r.mul(A,y),u=r.add(d,u),d=r.sub(p,u),u=r.add(p,u),f=r.mul(d,u),p=r.add(g,g),p=r.add(p,g),y=r.mul(w,y),b=r.mul(A,b),p=r.add(p,y),y=r.sub(g,y),y=r.mul(w,y),b=r.add(b,y),g=r.mul(p,b),f=r.add(f,g),g=r.mul(E,b),d=r.mul(m,d),d=r.sub(d,g),g=r.mul(m,p),u=r.mul(E,u),u=r.add(u,g),new l(d,f,u)}subtract(e){return this.add(e.negate())}is0(){return this.equals(l.ZERO)}wNAF(e){return u.wNAFCached(this,e,l.normalizeZ)}multiplyUnsafe(e){const{endo:n,n:o}=t;ee("scalar",e,Ve,o);const i=l.ZERO;if(e===Ve)return i;if(this.is0()||e===Ge)return this;if(!n||u.hasPrecomputes(this))return u.wNAFCachedUnsafe(this,e,l.normalizeZ);let{k1neg:s,k1:c,k2neg:a,k2:h}=n.splitScalar(e),d=i,f=i,w=this;for(;c>Ve||h>Ve;)c&Ge&&(d=d.add(w)),h&Ge&&(f=f.add(w)),w=w.double(),c>>=Ge,h>>=Ge;return s&&(d=d.negate()),a&&(f=f.negate()),f=new l(r.mul(f.px,n.beta),f.py,f.pz),d.add(f)}multiply(e){const{endo:n,n:o}=t;let i,s;if(ee("scalar",e,Ge,o),n){const{k1neg:t,k1:o,k2neg:c,k2:a}=n.splitScalar(e);let{p:h,f:d}=this.wNAF(o),{p:f,f:w}=this.wNAF(a);h=u.constTimeNegate(t,h),f=u.constTimeNegate(c,f),f=new l(r.mul(f.px,n.beta),f.py,f.pz),i=h.add(f),s=d.add(w)}else{const{p:t,f:r}=this.wNAF(e);i=t,s=r}return l.normalizeZ([i,s])[0]}multiplyAndAddUnsafe(e,t,r){const n=l.BASE,o=(e,t)=>t!==Ve&&t!==Ge&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),i=o(this,t).add(o(e,r));return i.is0()?void 0:i}toAffine(e){return h(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===Ge)return!0;if(r)return r(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===Ge?this:r?r(l,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return R("isCompressed",e),this.assertValidity(),o(l,this,e)}toHex(e=!0){return R("isCompressed",e),V(this.toRawBytes(e))}}l.BASE=new l(t.Gx,t.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const f=t.nBitLength,u=(w=l,A=t.endo?Math.ceil(f/2):f,{constTimeNegate:Le,hasPrecomputes:e=>1!==Qe(e),unsafeLadder(e,t,r=w.ZERO){let n=e;for(;t>Ce;)t&ke&&(r=r.add(n)),n=n.double(),t>>=ke;return r},precomputeWindow(e,t){const{windows:r,windowSize:n}=Te(t,A),o=[];let i=e,s=i;for(let e=0;e<r;e++){s=i,o.push(s);for(let e=1;e<n;e++)s=s.add(i),o.push(s);i=s.double()}return o},wNAF(e,t,r){const{windows:n,windowSize:o}=Te(e,A);let i=w.ZERO,s=w.BASE;const c=BigInt(2**e-1),a=2**e,h=BigInt(e);for(let e=0;e<n;e++){const n=e*o;let d=Number(r&c);r>>=h,d>o&&(d-=a,r+=ke);const l=n,f=n+Math.abs(d)-1,u=e%2!=0,w=d<0;0===d?s=s.add(Le(u,t[l])):i=i.add(Le(w,t[f]))}return{p:i,f:s}},wNAFUnsafe(e,t,r,n=w.ZERO){const{windows:o,windowSize:i}=Te(e,A),s=BigInt(2**e-1),c=2**e,a=BigInt(e);for(let e=0;e<o;e++){const o=e*i;if(r===Ce)break;let h=Number(r&s);if(r>>=a,h>i&&(h-=c,r+=ke),0===h)continue;let d=t[o+Math.abs(h)-1];h<0&&(d=d.negate()),n=n.add(d)}return n},getPrecomputes(e,t,r){let n=De.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&De.set(t,r(n))),n},wNAFCached(e,t,r){const n=Qe(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const o=Qe(e);return 1===o?this.unsafeLadder(e,t,n):this.wNAFUnsafe(o,this.getPrecomputes(o,e,r),t,n)},setWindowSize(e,t){Ie(t,A),Se.set(e,t),De.delete(e)}});var w,A;return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:function(e){return _(e,Ge,t.n)}}}function Je(e){const t=function(e){const t=Oe(e);return ce(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,o=r.BYTES+1,i=2*r.BYTES+1;function s(e){return pe(e,n)}function c(e){return be(e,n)}const{ProjectivePoint:a,normPrivateKeyToScalar:h,weierstrassEquation:d,isWithinCurveOrder:l}=Ke({...t,toBytes(e,t,n){const o=t.toAffine(),i=r.toBytes(o.x),s=W;return R("isCompressed",n),n?s(Uint8Array.from([t.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,r.toBytes(o.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==o||2!==n&&3!==n){if(t===i&&4===n)return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))};throw new Error("invalid Point, expected length of "+o+", or uncompressed "+i+", got "+t)}{const e=P(s);if(!_(e,Ge,r.ORDER))throw new Error("Point is not on curve");const t=d(e);let o;try{o=r.sqrt(t)}catch(e){const t=e instanceof Error?": "+e.message:"";throw new Error("Point is not on curve"+t)}return!(1&~n)!=((o&Ge)===Ge)&&(o=r.neg(o)),{x:e,y:o}}}}),f=e=>V(Y(e,t.nByteLength));function u(e){return e>n>>Ge}const w=(e,t,r)=>P(e.slice(t,r));class A{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=Z("compactSignature",e,2*r),new A(w(e,0,r),w(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Me.toSig(Z("DER",e));return new A(t,r)}assertValidity(){ee("r",this.r,Ge,n),ee("s",this.s,Ge,n)}addRecoveryBit(e){return new A(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:o,recovery:i}=this,h=m(Z("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const d=2===i||3===i?n+t.n:n;if(d>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=1&i?"03":"02",u=a.fromHex(l+f(d)),w=c(d),A=s(-h*w),g=s(o*w),p=a.BASE.multiplyAndAddUnsafe(u,A,g);if(!p)throw new Error("point at infinify");return p.assertValidity(),p}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new A(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return J(this.toDERHex())}toDERHex(){return Me.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return J(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const g={isValidPrivateKey(e){try{return h(e),!0}catch(e){return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const e=ve(t.n);return function(e,t,r=!1){const n=e.length,o=Ue(t),i=ve(t);if(n<16||n<i||n>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+n);const s=pe(r?j(e):P(e),t-le)+le;return r?q(s,o):Y(s,o)}(t.randomBytes(e),t.n)},precompute:(e=8,t=a.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function p(e){const t=H(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===o||n===i:r?n===2*o||n===2*i:e instanceof a}const y=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const r=P(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},m=t.bits2int_modN||function(e){return s(y(e))},b=re(t.nBitLength);function E(e){return ee("num < 2^"+t.nBitLength,e,Ve,b),Y(e,t.nByteLength)}const x={lowS:t.lowS,prehash:!1},B={lowS:t.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return a.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw new Error("first arg must be private key");if(!p(t))throw new Error("second arg must be public key");return a.fromHex(t).multiply(h(e)).toRawBytes(r)},sign:function(e,n,o=x){const{seed:i,k2sig:d}=function(e,n,o=x){if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:d}=t;let{lowS:f,prehash:w,extraEntropy:g}=o;null==f&&(f=!0),e=Z("msgHash",e),Ne(o),w&&(e=Z("prehashed msgHash",i(e)));const p=m(e),b=h(n),B=[E(b),E(p)];if(null!=g&&!1!==g){const e=!0===g?d(r.BYTES):g;B.push(Z("extraEntropy",e))}const U=W(...B),v=p;return{seed:U,k2sig:function(e){const t=y(e);if(!l(t))return;const r=c(t),n=a.BASE.multiply(t).toAffine(),o=s(n.x);if(o===Ve)return;const i=s(r*s(v+o*b));if(i===Ve)return;let h=(n.x===o?0:2)|Number(n.y&Ge),d=i;return f&&u(i)&&(d=function(e){return u(e)?s(-e):e}(i),h^=1),new A(o,d,h)}}}(e,n,o),f=t;return ie(f.hash.outputLen,f.nByteLength,f.hmac)(i,d)},verify:function(e,r,n,o=B){const i=e;r=Z("msgHash",r),n=Z("publicKey",n);const{lowS:h,prehash:d,format:l}=o;if(Ne(o),"strict"in o)throw new Error("options.strict was renamed to lowS");if(void 0!==l&&"compact"!==l&&"der"!==l)throw new Error("format must be compact or der");const f="string"==typeof i||H(i),u=!f&&!l&&"object"==typeof i&&null!==i&&"bigint"==typeof i.r&&"bigint"==typeof i.s;if(!f&&!u)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let w,g;try{if(u&&(w=new A(i.r,i.s)),f){try{"compact"!==l&&(w=A.fromDER(i))}catch(e){if(!(e instanceof Me.Err))throw e}w||"der"===l||(w=A.fromCompact(i))}g=a.fromHex(n)}catch(e){return!1}if(!w)return!1;if(h&&w.hasHighS())return!1;d&&(r=t.hash(r));const{r:p,s:y}=w,b=m(r),E=c(y),x=s(b*E),U=s(p*E),v=a.BASE.multiplyAndAddUnsafe(g,x,U)?.toAffine();return!!v&&s(v.x)===p},ProjectivePoint:a,Signature:A,utils:g}}
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Pe(e){return{hash:e,hmac:(t,...r)=>S(e,t,m(...r)),randomBytes:B}}BigInt(4);
/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */
const je=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ye=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qe=BigInt(1),Ze=BigInt(2),We=(e,t)=>(e+t/Ze)/t,Xe=Be(je,void 0,void 0,{sqrt:function(e){const t=je,r=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),c=BigInt(44),a=BigInt(88),h=e*e*e%t,d=h*h*e%t,l=me(d,r,t)*d%t,f=me(l,r,t)*d%t,u=me(f,Ze,t)*h%t,w=me(u,o,t)*u%t,A=me(w,i,t)*w%t,g=me(A,c,t)*A%t,p=me(g,a,t)*g%t,y=me(p,c,t)*A%t,m=me(y,r,t)*d%t,b=me(m,s,t)*w%t,E=me(b,n,t)*h%t,x=me(E,Ze,t);if(!Xe.eql(Xe.sqr(x),e))throw new Error("Cannot find square root");return x}}),$e=function(e){const t=t=>Je({...e,...Pe(t)});return{...t(T),create:t}}({a:BigInt(0),b:BigInt(7),Fp:Xe,n:Ye,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Ye,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-qe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),c=We(i*e,t),a=We(-n*e,t);let h=pe(e-c*r-a*o,t),d=pe(-c*n-a*i,t);const l=h>s,f=d>s;if(l&&(h=t-h),f&&(d=t-d),h>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:h,k2neg:f,k2:d}}}});BigInt(0);const _e=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),et=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let tt=[et],rt=[et.map((e=>(9*e+5)%16))];for(let e=0;e<4;e++)for(let t of[tt,rt])t.push(t[e].map((e=>_e[e])));const nt=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),ot=tt.map(((e,t)=>e.map((e=>nt[t][e])))),it=rt.map(((e,t)=>e.map((e=>nt[t][e])))),st=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),ct=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function at(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const ht=new Uint32Array(16);class dt extends v{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:o}=this;return[e,t,r,n,o]}set(e,t,r,n,o){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)ht[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,o=0|this.h1,i=o,s=0|this.h2,c=s,h=0|this.h3,d=h,l=0|this.h4,f=l;for(let e=0;e<5;e++){const t=4-e,u=st[e],w=ct[e],A=tt[e],g=rt[e],p=ot[e],y=it[e];for(let t=0;t<16;t++){const n=a(r+at(e,o,s,h)+ht[A[t]]+u,p[t])+l|0;r=l,l=h,h=0|a(s,10),s=o,o=n}for(let e=0;e<16;e++){const r=a(n+at(t,i,c,d)+ht[g[e]]+w,y[e])+f|0;n=f,f=d,d=0|a(c,10),c=i,i=r}}this.set(this.h1+s+d|0,this.h2+h+f|0,this.h3+l+n|0,this.h4+r+i|0,this.h0+o+c|0)}roundClean(){ht.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const lt=E((()=>new dt));
/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ft(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function ut(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>"string"==typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function wt(e){if("function"!=typeof e)throw new Error("function expected");return!0}function At(e,t){if("string"!=typeof t)throw new Error(`${e}: string expected`);return!0}function gt(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function pt(e){if(!Array.isArray(e))throw new Error("array expected")}function yt(e,t){if(!ut(!0,t))throw new Error(`${e}: array of strings expected`)}function mt(e,t){if(!ut(!1,t))throw new Error(`${e}: array of numbers expected`)}function bt(...e){const t=e=>e,r=(e,t)=>r=>e(t(r));return{encode:e.map((e=>e.encode)).reduceRight(r,t),decode:e.map((e=>e.decode)).reduce(r,t)}}function Et(e){const t="string"==typeof e?e.split(""):e,r=t.length;yt("alphabet",t);const n=new Map(t.map(((e,t)=>[e,t])));return{encode:n=>(pt(n),n.map((n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]}))),decode:t=>(pt(t),t.map((t=>{At("alphabet.decode",t);const r=n.get(t);if(void 0===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})))}}function xt(e=""){return At("join",e),{encode:t=>(yt("join.decode",t),t.join(e)),decode:t=>(At("join.decode",t),t.split(e))}}function Bt(e,t="="){return gt(e),At("padding",t),{encode(r){for(yt("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){yt("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8==0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function Ut(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(pt(e),!e.length)return[];let n=0;const o=[],i=Array.from(e,(e=>{if(gt(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e})),s=i.length;for(;;){let e=0,c=!0;for(let o=n;o<s;o++){const s=i[o],a=t*e,h=a+s;if(!Number.isSafeInteger(h)||a/t!==e||h-s!==a)throw new Error("convertRadix: carry overflow");const d=h/r;e=h%r;const l=Math.floor(d);if(i[o]=l,!Number.isSafeInteger(l)||l*r+e!==h)throw new Error("convertRadix: carry overflow");c&&(l?c=!1:n=o)}if(o.push(e),c)break}for(let t=0;t<e.length-1&&0===e[t];t++)o.push(0);return o.reverse()}const vt=(e,t)=>0===t?e:vt(t,e%t),Ct=(e,t)=>e+(t-vt(e,t)),kt=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Lt(e,t,r,n){if(pt(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(Ct(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${Ct(t,r)}`);let o=0,i=0;const s=kt[t],c=kt[r]-1,a=[];for(const n of e){if(gt(n),n>=s)throw new Error(`convertRadix2: invalid data word=${n} from=${t}`);if(o=o<<t|n,i+t>32)throw new Error(`convertRadix2: carry overflow pos=${i} from=${t}`);for(i+=t;i>=r;i-=r)a.push((o>>i-r&c)>>>0);const e=kt[i];if(void 0===e)throw new Error("invalid carry");o&=e-1}if(o=o<<r-i&c,!n&&i>=t)throw new Error("Excess padding");if(!n&&o>0)throw new Error(`Non-zero padding: ${o}`);return n&&i>0&&a.push(o>>>0),a}function It(e){return gt(e),{encode:t=>{if(!ft(t))throw new Error("radix.encode input should be Uint8Array");return Ut(Array.from(t),256,e)},decode:t=>(mt("radix.decode",t),Uint8Array.from(Ut(t,e,256)))}}function Tt(e,t=!1){if(gt(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(Ct(8,e)>32||Ct(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!ft(r))throw new Error("radix2.encode input should be Uint8Array");return Lt(Array.from(r),8,e,!t)},decode:r=>(mt("radix2.decode",r),Uint8Array.from(Lt(r,e,8,t)))}}function Dt(e){return wt(e),function(...t){try{return e.apply(null,t)}catch(e){}}}function St(e,t){return gt(e),wt(t),{encode(r){if(!ft(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),o=new Uint8Array(r.length+e);return o.set(r),o.set(n,r.length),o},decode(r){if(!ft(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),o=r.slice(-e),i=t(n).slice(0,e);for(let t=0;t<e;t++)if(i[t]!==o[t])throw new Error("Invalid checksum");return n}}}const Qt={alphabet:Et,chain:bt,checksum:St,convertRadix:Ut,convertRadix2:Lt,radix:It,radix2:Tt,join:xt,padding:Bt},Ot=bt(Tt(5),Et("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Bt(5),xt("")),Nt=bt(Tt(6),Et("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),xt("")),Ht=e=>bt(It(58),Et(e),xt("")),Ft=Ht("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Rt=Ht("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),Mt=[0,2,3,5,6,7,9,10,11],Vt={encode(e){let t="";for(let r=0;r<e.length;r+=8){const n=e.subarray(r,r+8);t+=Ft.encode(n).padStart(Mt[n.length],"1")}return t},decode(e){let t=[];for(let r=0;r<e.length;r+=11){const n=e.slice(r,r+11),o=Mt.indexOf(n.length),i=Ft.decode(n);for(let e=0;e<i.length-o;e++)if(0!==i[e])throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(i.slice(i.length-o)))}return Uint8Array.from(t)}},Gt=bt(Et("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),xt("")),zt=[996825010,642813549,513874426,1027748829,705979059];function Kt(e){const t=e>>25;let r=(33554431&e)<<5;for(let e=0;e<zt.length;e++)1==(t>>e&1)&&(r^=zt[e]);return r}function Jt(e,t,r=1){const n=e.length;let o=1;for(let t=0;t<n;t++){const r=e.charCodeAt(t);if(r<33||r>126)throw new Error(`Invalid prefix (${e})`);o=Kt(o)^r>>5}o=Kt(o);for(let t=0;t<n;t++)o=Kt(o)^31&e.charCodeAt(t);for(let e of t)o=Kt(o)^e;for(let e=0;e<6;e++)o=Kt(o);return o^=r,Gt.encode(Lt([o%kt[30]],30,5,!1))}function Pt(e){const t="bech32"===e?1:734539939,r=Tt(5),n=r.decode,o=r.encode,i=Dt(n);function s(e,r,n=90){At("bech32.encode prefix",e),ft(r)&&(r=Array.from(r)),mt("bech32.encode",r);const o=e.length;if(0===o)throw new TypeError(`Invalid prefix length ${o}`);const i=o+7+r.length;if(!1!==n&&i>n)throw new TypeError(`Length ${i} exceeds limit ${n}`);const s=e.toLowerCase(),c=Jt(s,r,t);return`${s}1${Gt.encode(r)}${c}`}function c(e,r=90){At("bech32.decode input",e);const n=e.length;if(n<8||!1!==r&&n>r)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${r})`);const o=e.toLowerCase();if(e!==o&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const i=o.lastIndexOf("1");if(0===i||-1===i)throw new Error('Letter "1" must be present between prefix and data only');const s=o.slice(0,i),c=o.slice(i+1);if(c.length<6)throw new Error("Data must be at least 6 characters long");const a=Gt.decode(c).slice(0,-6),h=Jt(s,a,t);if(!c.endsWith(h))throw new Error(`Invalid checksum in ${e}: expected "${h}"`);return{prefix:s,words:a}}return{encode:s,decode:c,encodeFromBytes:function(e,t){return s(e,o(t))},decodeToBytes:function(e){const{prefix:t,words:r}=c(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:Dt(c),fromWords:n,fromWordsUnsafe:i,toWords:o}}const jt=Pt("bech32"),Yt=Pt("bech32m"),qt=Ft,Zt=qt.encode,Wt=qt.decode,Xt=(e=>bt(St(4,(t=>e(e(t)))),Ft))(T),$t=Xt.encode,_t=Xt.decode,er=(e,t)=>r=>{if(118===r[0]){if(169!==r[1]||136!==r[r.length-2]||172!==r[r.length-1])throw new Error("Unrecognised address format");return $t(m(e,r.slice(3,3+r[2])))}if(169===r[0]){if(135!==r[r.length-1])throw new Error("Unrecognised address format");return $t(m(t,r.slice(2,2+r[1])))}throw new Error("Unrecognised address format")},tr=(e,t)=>r=>{const n=_t(r),o=e=>e.every(((e,t)=>t<n.length&&e===n[t]));if(e.some(o))return m(new Uint8Array([118,169,20]),n.slice(e[0].length),new Uint8Array([136,172]));if(t.some(o))return m(new Uint8Array([169,20]),n.slice(t[0].length),new Uint8Array([135]));throw new Error("Unrecognised address format")},rr=Qt.checksum(4,lt),nr=e=>t=>{const r=$e.ProjectivePoint.fromHex(t),n=rr.encode(r.toRawBytes(!0)),o=Zt(n);return`${e}${o}`},or=e=>t=>{if(!t.startsWith(e))throw new Error("Unrecognised address format");const r=t.slice(e.length),n=Wt(r);return rr.decode(n)},ir="ABBC",sr={name:"abbc",coinType:367,encode:nr(ir),decode:or(ir)},cr=({bechLib:e,hrp:t,limit:r})=>n=>e.encode(t,e.toWords(n),r),ar=({bechLib:e,hrp:t,limit:r})=>n=>{const{prefix:o,words:i}=e.decode(n,r);if(o!==t)throw new Error("Unexpected human-readable part in bech32 encoded address");return new Uint8Array(e.fromWords(i))},hr=(e,t)=>cr({hrp:e,bechLib:jt,limit:t}),dr=(e,t)=>ar({hrp:e,bechLib:jt,limit:t}),lr=e=>t=>{let r=t[0];if(r>=81&&r<=96)r-=80;else if(0!==r)throw new Error("Unrecognised address format");let n=[];return r>0&&r<17?(n=[r].concat(Yt.toWords(t.slice(2,t[1]+2))),Yt.encode(e,n)):(n=[r].concat(jt.toWords(t.slice(2,t[1]+2))),jt.encode(e,n))},fr=e=>t=>{const r=jt.decodeUnsafe(t)||Yt.decodeUnsafe(t);if(!r)throw new Error("Unrecognised address format");const{prefix:n,words:o}=r;if(n!==e)throw new Error("Unexpected human-readable part in bech32 encoded address");const i=jt.fromWords(o.slice(1));let s=o[0];return s>0&&(s+=80),m(new Uint8Array([s,i.length]),new Uint8Array(i))},ur=4294967296;class wr{constructor(e,t){Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tag",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e,this.tag=t}}class Ar{constructor(e){Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}}const gr=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],pr=e=>{let t=4294967295;for(const r of e){const e=255&(t^r),n=gr?.[e];if(void 0===n)throw new Error("tableIndex out of range 0-255");t=t>>>8^n}return(e=>{if(e>=0)return e;const t=new Uint32Array(1);return t[0]=e,t[0]})(4294967295^t)},yr="addr",mr=hr(yr,104),br=dr(yr,104),Er={name:"ada",coinType:1815,encode:e=>{try{return(e=>{const t=pr(e),r=function(e){let t,r=new ArrayBuffer(256),n=new DataView(r),o=new Uint8Array(r),i=0;function s(e){let s=r.byteLength;const c=i+e;for(;s<c;)s<<=1;if(s!==r.byteLength){const e=n;r=new ArrayBuffer(s),n=new DataView(r),o=new Uint8Array(r);const t=i+3>>2;for(let r=0;r<t;++r)n.setUint32(r<<2,e.getUint32(r<<2))}return t=e,n}function c(...e){i+=t}function a(e){c(s(1).setUint8(i,e))}function h(e){s(e.length),o.set(e,i),c()}function d(e){c(s(2).setUint16(i,e))}function l(e){c(s(4).setUint32(i,e))}function f(e){const t=e%ur,r=(e-t)/ur,n=s(8);n.setUint32(i,r),n.setUint32(i+4,t),c()}function u(e,t){t<24?a(e<<5|t):t<256?(a(e<<5|24),a(t)):t<65536?(a(e<<5|25),d(t)):t<4294967296?(a(e<<5|26),l(t)):(a(e<<5|27),f(t))}if(function e(t){let r;if(!1===t)return a(244);if(!0===t)return a(245);if(null===t)return a(246);if(void 0===t)return a(247);if(n=t,"function"==typeof Object.is?Object.is(n,-0):-0===n&&(0!==n||1/n==-1/0))return h([249,128,0]);var n;switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=9007199254740992)return u(0,t);if(-9007199254740992<=t&&t<0)return u(1,-(t+1))}return a(251),function(e){c(s(8).setFloat64(i,e))}(t);case"string":const n=[];for(r=0;r<t.length;r++){let e=t.charCodeAt(r);e<128?n.push(e):e<2048?(n.push(192|e>>6),n.push(128|63&e)):(e=(1023&e)<<10,e|=1023&t.charCodeAt(++r),e+=65536,n.push(240|e>>18),n.push(128|e>>12&63),n.push(128|e>>6&63),n.push(128|63&e))}return u(3,n.length),h(n);default:let o,w;if(Array.isArray(t))for(o=t.length,u(4,o),r=0;r<o;r++)e(t[r]);else if(t instanceof Uint8Array)u(2,t.length),h(t);else if(ArrayBuffer.isView(t))w=new Uint8Array(t.buffer),u(2,w.length),h(w);else if(t instanceof ArrayBuffer||"function"==typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer)w=new Uint8Array(t),u(2,w.length),h(w);else if(t instanceof wr)!function(e){e<=255?e<24?a(e|192):(a(216),a(e)):e<=65535?(a(217),d(e)):e<=4294967295?(a(218),l(e)):(a(219),f(e))}(t.tag),e(t.value);else{const n=Object.keys(t);for(o=n.length,u(5,o),r=0;r<o;r++){const o=n[r];e(o),e(t[o])}}}}(e),"slice"in r)return r.slice(0,i);const w=new ArrayBuffer(i),A=new DataView(w);for(let e=0;e<i;++e)A.setUint8(e,n.getUint8(e));return w}([new wr(e.buffer,24),t]),n=Zt(new Uint8Array(r));if(!n.startsWith("Ae2")&&!n.startsWith("Ddz"))throw new Error("Unrecognised address format");return n})(e)}catch{return mr(e)}},decode:e=>e.toLowerCase().startsWith(yr)?br(e):(e=>{const t=function(e){const t=new DataView(e),r=new Uint8Array(e);let n=0;function o(e,t){return n+=e,t}function i(t){return o(t,new Uint8Array(e,n,t))}function s(){return o(1,r[n])}function c(){return o(2,t.getUint16(n))}function a(){return o(4,t.getUint32(n))}function h(){return 255===r[n]&&(n+=1,!0)}function d(e){if(e<24)return e;if(24===e)return s();if(25===e)return c();if(26===e)return a();if(27===e)return a()*ur+a();if(31===e)return-1;throw new Error("Invalid length encoding")}function l(e){const t=s();if(255===t)return-1;const r=d(31&t);if(r<0||t>>5!==e)throw new Error("Invalid indefinite length element");return r}function f(e,t){for(let r=0;r<t;++r){let r=s();128&r&&(r<224?(r=(31&r)<<6|63&s(),t-=1):r<240?(r=(15&r)<<12|(63&s())<<6|63&s(),t-=2):(r=(15&r)<<18|(63&s())<<12|(63&s())<<6|63&s(),t-=3)),r<65536?e.push(r):(r-=65536,e.push(55296|r>>10),e.push(56320|1023&r))}}const u=function e(){const r=s(),a=r>>5,u=31&r;let w,A;if(7===a)switch(u){case 25:return function(){const e=new ArrayBuffer(4),t=new DataView(e),r=c(),n=32768&r;let o=31744&r;const i=1023&r;if(31744===o)o=261120;else if(0!==o)o+=114688;else if(0!==i)return(n?-1:1)*i*5.960464477539063e-8;return t.setUint32(0,n<<16|o<<13|i<<13),t.getFloat32(0)}();case 26:return o(4,t.getFloat32(n));case 27:return o(8,t.getFloat64(n))}if(A=d(u),A<0&&(a<2||6<a))throw new Error("Invalid length");switch(a){case 0:return A;case 1:return-1-A;case 2:if(A<0){const e=[];let t=0;for(A=l(a);A>=0;)t+=A,e.push(i(A));const r=new Uint8Array(t);let n=0;for(w=0;w<e.length;++w)r.set(e[w],n),n+=e[w].length;return r}return i(A);case 3:const t=[];if(A<0)for(A=l(a);A>=0;)f(t,A);else f(t,A);let r="";for(w=0;w<t.length;w+=8192)r+=String.fromCharCode.apply(null,t.slice(w,w+8192));return r;case 4:let n;if(A<0)for(n=[];!h();)n.push(e());else for(n=new Array(A),w=0;w<A;++w)n[w]=e();return n;case 5:const o={};for(w=0;w<A||A<0&&!h();++w)o[e()]=e();return o;case 6:return g=e(),new wr(g,A);case 7:switch(A){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;default:return(e=>new Ar(e))(A)}}var g}();if(n!==e.byteLength)throw new Error("Remaining bytes");return u}(Wt(e).buffer),r=t[0];if(void 0===r)throw new Error("Unrecognised address format");if(t[1]!==pr(r.value))throw new Error("Unrecognised address format");return r.value})(e)},xr={name:"ae",coinType:457,encode:e=>`ak_${$t(e.slice(2))}`,decode:e=>m(new Uint8Array([48,120]),_t(e.slice(3)))},Br=[new Uint8Array([23])],Ur=[new Uint8Array([5])],vr={name:"aib",coinType:55,encode:er(Br[0],Ur[0]),decode:tr(Br,Ur)};function Cr(e){let t=e.slice(2);t.length%2&&(t=`0${t}`);const r=new Uint8Array(t.length/2);for(let e=0;e<r.length;e++){const n=2*e,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error(`Invalid byte sequence ("${o}" in "${t}").`);r[e]=i}return r}function kr(e){return(new TextEncoder).encode(e)}function Lr(e){return`0x${w(e)}`}const Ir=w,Tr=g,Dr=/^[0-9A-Fa-f]{64}$/g,Sr={name:"aion",coinType:425,encode:e=>{if(32!==e.length)throw new Error("Unrecognised address format");return Lr(e)},decode:e=>{const t=e.startsWith("0x")?e.slice(2):e;if(64!==t.length)throw new Error("Unrecognised address format");if(!Dr.test(t))throw new Error("Unrecognised address format");return Tr(t)}},Qr=BigInt(2**32-1),Or=BigInt(32);function Nr(e,t=!1){return t?{h:Number(e&Qr),l:Number(e>>Or&Qr)}:{h:0|Number(e>>Or&Qr),l:0|Number(e&Qr)}}function Hr(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){const{h:i,l:s}=Nr(e[o],t);[r[o],n[o]]=[i,s]}return[r,n]}const Fr=(e,t,r)=>e<<r|t>>>32-r,Rr=(e,t,r)=>t<<r|e>>>32-r,Mr=(e,t,r)=>t<<r-32|e>>>64-r,Vr=(e,t,r)=>e<<r-32|t>>>64-r,Gr={fromBig:Nr,split:Hr,toBig:(e,t)=>BigInt(e>>>0)<<Or|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:Fr,rotlSL:Rr,rotlBH:Mr,rotlBL:Vr,add:function(e,t,r,n){const o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:0|o}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0,add5H:(e,t,r,n,o,i)=>t+r+n+o+i+(e/2**32|0)|0,add5L:(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0)},[zr,Kr]=(()=>Gr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Jr=new Uint32Array(80),Pr=new Uint32Array(80);class jr extends v{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:o,Cl:i,Dh:s,Dl:c,Eh:a,El:h,Fh:d,Fl:l,Gh:f,Gl:u,Hh:w,Hl:A}=this;return[e,t,r,n,o,i,s,c,a,h,d,l,f,u,w,A]}set(e,t,r,n,o,i,s,c,a,h,d,l,f,u,w,A){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|o,this.Cl=0|i,this.Dh=0|s,this.Dl=0|c,this.Eh=0|a,this.El=0|h,this.Fh=0|d,this.Fl=0|l,this.Gh=0|f,this.Gl=0|u,this.Hh=0|w,this.Hl=0|A}process(e,t){for(let r=0;r<16;r++,t+=4)Jr[r]=e.getUint32(t),Pr[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){const t=0|Jr[e-15],r=0|Pr[e-15],n=Gr.rotrSH(t,r,1)^Gr.rotrSH(t,r,8)^Gr.shrSH(t,r,7),o=Gr.rotrSL(t,r,1)^Gr.rotrSL(t,r,8)^Gr.shrSL(t,r,7),i=0|Jr[e-2],s=0|Pr[e-2],c=Gr.rotrSH(i,s,19)^Gr.rotrBH(i,s,61)^Gr.shrSH(i,s,6),a=Gr.rotrSL(i,s,19)^Gr.rotrBL(i,s,61)^Gr.shrSL(i,s,6),h=Gr.add4L(o,a,Pr[e-7],Pr[e-16]),d=Gr.add4H(h,n,c,Jr[e-7],Jr[e-16]);Jr[e]=0|d,Pr[e]=0|h}let{Ah:r,Al:n,Bh:o,Bl:i,Ch:s,Cl:c,Dh:a,Dl:h,Eh:d,El:l,Fh:f,Fl:u,Gh:w,Gl:A,Hh:g,Hl:p}=this;for(let e=0;e<80;e++){const t=Gr.rotrSH(d,l,14)^Gr.rotrSH(d,l,18)^Gr.rotrBH(d,l,41),y=Gr.rotrSL(d,l,14)^Gr.rotrSL(d,l,18)^Gr.rotrBL(d,l,41),m=d&f^~d&w,b=l&u^~l&A,E=Gr.add5L(p,y,b,Kr[e],Pr[e]),x=Gr.add5H(E,g,t,m,zr[e],Jr[e]),B=0|E,U=Gr.rotrSH(r,n,28)^Gr.rotrBH(r,n,34)^Gr.rotrBH(r,n,39),v=Gr.rotrSL(r,n,28)^Gr.rotrBL(r,n,34)^Gr.rotrBL(r,n,39),C=r&o^r&s^o&s,k=n&i^n&c^i&c;g=0|w,p=0|A,w=0|f,A=0|u,f=0|d,u=0|l,({h:d,l:l}=Gr.add(0|a,0|h,0|x,0|B)),a=0|s,h=0|c,s=0|o,c=0|i,o=0|r,i=0|n;const L=Gr.add3L(B,v,k);r=Gr.add3H(L,x,U,C),n=0|L}({h:r,l:n}=Gr.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:o,l:i}=Gr.add(0|this.Bh,0|this.Bl,0|o,0|i)),({h:s,l:c}=Gr.add(0|this.Ch,0|this.Cl,0|s,0|c)),({h:a,l:h}=Gr.add(0|this.Dh,0|this.Dl,0|a,0|h)),({h:d,l:l}=Gr.add(0|this.Eh,0|this.El,0|d,0|l)),({h:f,l:u}=Gr.add(0|this.Fh,0|this.Fl,0|f,0|u)),({h:w,l:A}=Gr.add(0|this.Gh,0|this.Gl,0|w,0|A)),({h:g,l:p}=Gr.add(0|this.Hh,0|this.Hl,0|g,0|p)),this.set(r,n,o,i,s,c,a,h,d,l,f,u,w,A,g,p)}roundClean(){Jr.fill(0),Pr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class Yr extends jr{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}const qr=E((()=>new Yr)),Zr=Ot.encode,Wr=Ot.decode,Xr=Qt.chain(Qt.radix2(5),Qt.alphabet("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Qt.join("")),$r=Xr.encode,_r=Xr.decode,en=Qt.checksum(4,(e=>qr(e).slice(-4))),tn={name:"algo",coinType:283,encode:e=>{const t=en.encode(e);return $r(t)},decode:e=>{const t=_r(e);if(36!==t.length)throw new Error("Unrecognised address format");return en.decode(t)}},rn={name:"ar",coinType:472,encode:Nt.encode,decode:Nt.decode},nn="ARDOR",on="23456789ABCDEFGHJKLMNPQRSTUVWXYZ",sn=new Uint8Array([3,2,1,0,7,6,5,4,13,14,15,16,12,8,9,10,11]),cn=[0,0,1,18,2,5,19,11,3,29,6,27,20,8,12,23,4,10,30,17,7,22,28,26,21,25,9,16,13,14,24,15],an=[1,2,4,8,16,5,10,20,13,26,17,7,14,28,29,31,27,19,3,6,12,24,21,15,30,25,23,11,22,9,18,1],hn={name:"ardr",coinType:16754,encode:e=>{const t=[];for(let r=0,n=0;r<e.length;r++){const o=e[r];t[sn[n++]]=on[16*((240&o)>>4)+(15&o)]}return`${nn}-${t.slice(0,4).join("")}-${t.slice(4,8).join("")}-${t.slice(8,12).join("")}-${t.slice(12,17).join("")}`},decode:e=>{if(!e.startsWith(`${nn}-`)||26!==e.length)throw new Error("Unrecognised address format");const t=e.slice(6),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);for(let e=0,n=0;e<20;e++){const o=t[e];if("-"===o)continue;const i=on.indexOf(o);if(-1===i)throw new Error("Unrecognised address format");r[sn[n++]]=i}if(!(e=>{let t=0;for(let o=1;o<5;o++){let i=0;for(let t=0;t<31;t++){if(t>12&&t<27)continue;let s=t;t>26&&(s-=14),i^=(r=e[s],n=an[o*t%31],0===r||0===n?0:an[(cn[r]+cn[n])%31])}t|=i}var r,n;return 0===t})(r))throw new Error("Unrecognised address format");return r}},dn={name:"ark",coinType:111,encode:$t,decode:e=>{const t=_t(e);if(23!==t[0])throw new Error("Invalid address");return t}},ln={name:"atom",coinType:118,encode:hr("cosmos"),decode:dr("cosmos")},fn="avax",un=dr(fn),wn={name:"avax",coinType:9e3,encode:hr(fn),decode:e=>{let t;const[r,n]=e.split("-");return t=n||r,un(t)}},An=({hrp:e,p2pkhVersions:t,p2shVersions:r})=>{const n=fr(e),o=tr(t,r);return t=>t.toLowerCase().startsWith(e+"1")?n(t):o(t)},gn=({hrp:e,p2pkhVersions:t,p2shVersions:r})=>{const n=lr(e),o=er(t[0],r[0]);return e=>{try{return o(e)}catch{return n(e)}}},pn=[new Uint8Array([0])],yn=[new Uint8Array([5])],mn={name:"bcd",coinType:999,encode:gn({hrp:"bcd",p2pkhVersions:pn,p2shVersions:yn}),decode:An({hrp:"bcd",p2pkhVersions:pn,p2shVersions:yn})},bn=new Uint8Array([2,9,20,3,15,9,14,3,1,19,8,0]),En=[160,192,224,256,320,384,448,512],xn=Object.fromEntries(En.map(((e,t)=>[e,t]))),Bn=Qt.radix2(5),Un=Qt.chain(Qt.alphabet("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Qt.join("")),vn=e=>{const t=[0x98f2bc8e61n,0x79b76d99e2n,0xf33e5fb3c4n,0xae2eabe2a8n,0x1e4f43e470n];let r=1n;for(var n=0;n<e.length;++n){const i=e[n],s=r>>35n;r=(0x07ffffffffn&r)<<5n^BigInt(i);for(var o=0;o<t.length;++o)1n===(s>>BigInt(o)&1n)&&(r^=t[o])}return 1n^r},Cn=(e,t)=>{const r=new Uint8Array([e+xn[8*t.length]]),n=Bn.encode(m(r,t)),o=new Uint8Array(n),i=m(bn,o,new Uint8Array(8)),s=m(o,(e=>{const t=new Uint8Array(8);for(let r=0;r<8;r++)t[7-r]=Number(31n&e),e>>=5n;return t})(vn(i)));return`bitcoincash:${Un.encode(Array.from(s))}`},kn=[new Uint8Array([0])],Ln=[new Uint8Array([5])],In=tr(kn,Ln),Tn={name:"bch",coinType:145,encode:e=>{if(118===e[0]){if(169!==e[1]||136!==e[e.length-2]||172!==e[e.length-1])throw new Error("Unrecognised address format");return Cn(0,e.slice(3,3+e[2]))}if(169===e[0]){if(135!==e[e.length-1])throw new Error("Unrecognised address format");return Cn(8,e.slice(2,2+e[1]))}throw new Error("Unrecognised address format")},decode:e=>{try{return In(e)}catch{const{type:t,hash:r}=(e=>{const t=(e=>{const t=e.toLowerCase();if(e===t)return t;const r=e.toUpperCase();if(e===r)return t;throw new Error("Unrecognised address format")})(e);let[r,n]=t.split(":");if(n){if("bitcoincash"!==r)throw new Error("Unrecognised address format")}else n=r;const o=Un.decode(n);if(!(e=>{const t=m(bn,new Uint8Array(e));return 0n===vn(t)})(o))throw new Error("Invalid checksum");const[i,...s]=Bn.decode(Array.from(o.slice(0,-8)));if(En[7&i]!==8*s.length)throw new Error("Unrecognised address format");return{type:120&i,hash:s}})(e);if(0===t)return m(new Uint8Array([118,169,20]),new Uint8Array(r),new Uint8Array([136,172]));if(8===t)return m(new Uint8Array([169,20]),new Uint8Array(r),new Uint8Array([135]));throw new Error("Unrecognised address format")}}},Dn=[],Sn=[],Qn=[],On=BigInt(0),Nn=BigInt(1),Hn=BigInt(2),Fn=BigInt(7),Rn=BigInt(256),Mn=BigInt(113);for(let e=0,t=Nn,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],Dn.push(2*(5*n+r)),Sn.push((e+1)*(e+2)/2%64);let o=On;for(let e=0;e<7;e++)t=(t<<Nn^(t>>Fn)*Mn)%Rn,t&Hn&&(o^=Nn<<(Nn<<BigInt(e))-Nn);Qn.push(o)}const[Vn,Gn]=Hr(Qn,!0),zn=(e,t,r)=>r>32?Mr(e,t,r):Fr(e,t,r),Kn=(e,t,r)=>r>32?Vr(e,t,r):Rr(e,t,r);class Jn extends b{constructor(t,r,n,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,e(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=i(this.state)}keccak(){h||f(this.state32),function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){const n=(t+8)%10,o=(t+2)%10,i=r[o],s=r[o+1],c=zn(i,s,1)^r[n],a=Kn(i,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=c,e[t+r+1]^=a}let t=e[2],o=e[3];for(let r=0;r<24;r++){const n=Sn[r],i=zn(t,o,n),s=Kn(t,o,n),c=Dn[r];t=e[c],o=e[c+1],e[c]=i,e[c+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=Vn[n],e[1]^=Gn[n]}r.fill(0)}(this.state32,this.rounds),h||f(this.state32),this.posOut=0,this.pos=0}update(e){r(this);const{blockLen:t,state:n}=this,o=(e=y(e)).length;for(let r=0;r<o;){const i=Math.min(t-this.pos,o-r);for(let t=0;t<i;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,128&t&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){r(this,!1),t(e),this.finish();const n=this.state,{blockLen:o}=this;for(let t=0,r=e.length;t<r;){this.posOut>=o&&this.keccak();const i=Math.min(o-this.posOut,r-t);e.set(n.subarray(this.posOut,this.posOut+i),t),this.posOut+=i,t+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(t){return e(t),this.xofInto(new Uint8Array(t))}digestInto(e){if(n(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:o,enableXOF:i}=this;return e||(e=new Jn(t,r,n,i,o)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=o,e.suffix=r,e.outputLen=n,e.enableXOF=i,e.destroyed=this.destroyed,e}}const Pn=(e,t,r)=>E((()=>new Jn(t,e,r))),jn=Pn(6,136,32),Yn=Pn(1,136,32),qn=Vt.encode,Zn=Vt.decode,Wn={name:"xmr",coinType:128,encode:qn,decode:Zn},Xn=Qt.checksum(4,Yn),$n={name:"bcn",coinType:204,encode:e=>{const t=Yn(e).slice(0,4);return qn(m(e,t))},decode:e=>{const t=Zn(e),r=t.slice(0,-68);if(t.length<68||!X(r,new Uint8Array([6]))&&!X(r,new Uint8Array([206,246,34])))throw new Error("Unrecognised address format");return Xn.decode(t)}},_n={name:"bdx",coinType:570,encode:qn,decode:Zn},eo={name:"bnb",coinType:714,encode:hr("bnb"),decode:dr("bnb")},to=[new Uint8Array([0])],ro=[new Uint8Array([5])],no={name:"bps",coinType:576,encode:er(to[0],ro[0]),decode:tr(to,ro)},oo={name:"bsv",coinType:236,encode:e=>$t(m(new Uint8Array([0]),e)),decode:e=>{const t=_t(e);if(21!==t.length)throw new Error("Unrecognised address format");if(0!==t[0])throw new Error("Unrecognised address format");return t.slice(1)}},io=[new Uint8Array([0])],so=[new Uint8Array([5])],co={name:"btc",coinType:0,encode:gn({hrp:"bc",p2pkhVersions:io,p2shVersions:so}),decode:An({hrp:"bc",p2pkhVersions:io,p2shVersions:so})},ao=[new Uint8Array([38])],ho=[new Uint8Array([23])],lo={name:"btg",coinType:156,encode:gn({hrp:"btg",p2pkhVersions:ao,p2shVersions:ho}),decode:An({hrp:"btg",p2pkhVersions:ao,p2shVersions:ho})},fo={name:"btm",coinType:153,encode:lr("bm"),decode:fr("bm")},uo={name:"bts",coinType:308,encode:nr("BTS"),decode:or("BTS")},wo=[new Uint8Array([11])],Ao=[new Uint8Array([5])],go={name:"cca",coinType:489,encode:er(wo[0],Ao[0]),decode:tr(wo,Ao)},po=[new Uint8Array([137])],yo=[new Uint8Array([75]),new Uint8Array([5])],mo={name:"ccxx",coinType:571,encode:gn({hrp:"ccx",p2pkhVersions:po,p2shVersions:yo}),decode:An({hrp:"ccx",p2pkhVersions:po,p2shVersions:yo})},bo=({address:e,hash:t,length:r})=>{for(let n=0;n<r;n+=2)t[n>>1]>>4>=8&&e[n]&&(e[n]=e[n].toUpperCase()),(15&t[n>>1])>=8&&e[n+1]&&(e[n+1]=e[n+1].toUpperCase());return`0x${e.join("")}`};function Eo(e,t){const r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=Yn(kr(r)),o=(t?r.substring(`${t}0x`.length):r).split("");return bo({address:o,hash:n,length:40})}function xo(e){return/^0x[a-fA-F0-9]{40}$/.test(e)}const Bo=e=>t=>Eo(Lr(t),e),Uo=e=>t=>{if(!function(e,t){if(!xo(e))return!1;if(e===Eo(e,t))return!0;const r=(n=e).startsWith("0x")?n.slice(2):n;var n;return r.toLowerCase()===r||r.toUpperCase()===r}(t,e))throw new Error("Unrecognised address format");return Cr(t)},vo={name:"celoLegacy",coinType:52752,encode:Bo(),decode:Uo()},Co={name:"ckb",coinType:309,encode:hr("ckb"),decode:dr("ckb")},ko={name:"cloLegacy",coinType:820,encode:Bo(),decode:Uo()},Lo=[new Uint8Array([76])],Io=[new Uint8Array([16])],To={name:"dash",coinType:5,encode:er(Lo[0],Io[0]),decode:tr(Lo,Io)},Do={name:"dcr",coinType:42,encode:Zt,decode:Wt},So=[new Uint8Array([30])],Qo=[new Uint8Array([63])],Oo={name:"dgb",coinType:20,encode:gn({hrp:"dgb",p2pkhVersions:So,p2shVersions:Qo}),decode:An({hrp:"dgb",p2pkhVersions:So,p2shVersions:Qo})},No=[new Uint8Array([30])],Ho=[new Uint8Array([13])],Fo={name:"divi",coinType:301,encode:er(No[0],Ho[0]),decode:tr(No,Ho)},Ro=[new Uint8Array([30])],Mo=[new Uint8Array([22])],Vo={name:"doge",coinType:3,encode:er(Ro[0],Mo[0]),decode:tr(Ro,Mo)},Go=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]);class zo extends b{constructor(t,r,n={},o,s,c){if(super(),this.blockLen=t,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,e(t),e(r),e(o),r<0||r>o)throw new Error("outputLen bigger than keyLen");if(void 0!==n.key&&(n.key.length<1||n.key.length>o))throw new Error("key length must be undefined or 1.."+o);if(void 0!==n.salt&&n.salt.length!==s)throw new Error("salt must be undefined or "+s);if(void 0!==n.personalization&&n.personalization.length!==c)throw new Error("personalization must be undefined or "+c);this.buffer=new Uint8Array(t),this.buffer32=i(this.buffer)}update(e){r(this);const{blockLen:t,buffer:n,buffer32:o}=this,i=(e=y(e)).length,s=e.byteOffset,c=e.buffer;for(let r=0;r<i;){this.pos===t&&(h||f(o),this.compress(o,0,!1),h||f(o),this.pos=0);const a=Math.min(t-this.pos,i-r),d=s+r;if(a!==t||d%4||!(r+a<i))n.set(e.subarray(r,r+a),this.pos),this.pos+=a,this.length+=a,r+=a;else{const e=new Uint32Array(c,d,Math.floor((i-r)/4));h||f(e);for(let n=0;r+t<i;n+=o.length,r+=t)this.length+=t,this.compress(e,n,!1);h||f(e)}}return this}digestInto(e){r(this),n(e,this);const{pos:t,buffer32:o}=this;this.finished=!0,this.buffer.subarray(t).fill(0),h||f(o),this.compress(o,0,!0),h||f(o);const s=i(e);this.get().forEach(((e,t)=>s[t]=l(e)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:n,destroyed:o,outputLen:i,pos:s}=this;return e||(e=new this.constructor({dkLen:i})),e.set(...this.get()),e.length=r,e.finished=n,e.destroyed=o,e.outputLen=i,e.buffer.set(t),e.pos=s,e}}const Ko=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Jo=new Uint32Array(32);function Po(e,t,r,n,o,i){const s=o[i],c=o[i+1];let a=Jo[2*e],h=Jo[2*e+1],d=Jo[2*t],l=Jo[2*t+1],f=Jo[2*r],u=Jo[2*r+1],w=Jo[2*n],A=Jo[2*n+1],g=Gr.add3L(a,d,s);h=Gr.add3H(g,h,l,c),a=0|g,({Dh:A,Dl:w}={Dh:A^h,Dl:w^a}),({Dh:A,Dl:w}={Dh:Gr.rotr32H(A,w),Dl:Gr.rotr32L(A,w)}),({h:u,l:f}=Gr.add(u,f,A,w)),({Bh:l,Bl:d}={Bh:l^u,Bl:d^f}),({Bh:l,Bl:d}={Bh:Gr.rotrSH(l,d,24),Bl:Gr.rotrSL(l,d,24)}),Jo[2*e]=a,Jo[2*e+1]=h,Jo[2*t]=d,Jo[2*t+1]=l,Jo[2*r]=f,Jo[2*r+1]=u,Jo[2*n]=w,Jo[2*n+1]=A}function jo(e,t,r,n,o,i){const s=o[i],c=o[i+1];let a=Jo[2*e],h=Jo[2*e+1],d=Jo[2*t],l=Jo[2*t+1],f=Jo[2*r],u=Jo[2*r+1],w=Jo[2*n],A=Jo[2*n+1],g=Gr.add3L(a,d,s);h=Gr.add3H(g,h,l,c),a=0|g,({Dh:A,Dl:w}={Dh:A^h,Dl:w^a}),({Dh:A,Dl:w}={Dh:Gr.rotrSH(A,w,16),Dl:Gr.rotrSL(A,w,16)}),({h:u,l:f}=Gr.add(u,f,A,w)),({Bh:l,Bl:d}={Bh:l^u,Bl:d^f}),({Bh:l,Bl:d}={Bh:Gr.rotrBH(l,d,63),Bl:Gr.rotrBL(l,d,63)}),Jo[2*e]=a,Jo[2*e+1]=h,Jo[2*t]=d,Jo[2*t+1]=l,Jo[2*r]=f,Jo[2*r+1]=u,Jo[2*n]=w,Jo[2*n+1]=A}class Yo extends zo{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|Ko[0],this.v0h=0|Ko[1],this.v1l=0|Ko[2],this.v1h=0|Ko[3],this.v2l=0|Ko[4],this.v2h=0|Ko[5],this.v3l=0|Ko[6],this.v3h=0|Ko[7],this.v4l=0|Ko[8],this.v4h=0|Ko[9],this.v5l=0|Ko[10],this.v5h=0|Ko[11],this.v6l=0|Ko[12],this.v6h=0|Ko[13],this.v7l=0|Ko[14],this.v7h=0|Ko[15];const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const t=i(y(e.salt));this.v4l^=l(t[0]),this.v4h^=l(t[1]),this.v5l^=l(t[2]),this.v5h^=l(t[3])}if(e.personalization){const t=i(y(e.personalization));this.v6l^=l(t[0]),this.v6h^=l(t[1]),this.v7l^=l(t[2]),this.v7h^=l(t[3])}if(e.key){const t=new Uint8Array(this.blockLen);t.set(y(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:o,v2h:i,v3l:s,v3h:c,v4l:a,v4h:h,v5l:d,v5h:l,v6l:f,v6h:u,v7l:w,v7h:A}=this;return[e,t,r,n,o,i,s,c,a,h,d,l,f,u,w,A]}set(e,t,r,n,o,i,s,c,a,h,d,l,f,u,w,A){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|o,this.v2h=0|i,this.v3l=0|s,this.v3h=0|c,this.v4l=0|a,this.v4h=0|h,this.v5l=0|d,this.v5h=0|l,this.v6l=0|f,this.v6h=0|u,this.v7l=0|w,this.v7h=0|A}compress(e,t,r){this.get().forEach(((e,t)=>Jo[t]=e)),Jo.set(Ko,16);let{h:n,l:o}=Gr.fromBig(BigInt(this.length));Jo[24]=Ko[8]^o,Jo[25]=Ko[9]^n,r&&(Jo[28]=~Jo[28],Jo[29]=~Jo[29]);let i=0;const s=Go;for(let r=0;r<12;r++)Po(0,4,8,12,e,t+2*s[i++]),jo(0,4,8,12,e,t+2*s[i++]),Po(1,5,9,13,e,t+2*s[i++]),jo(1,5,9,13,e,t+2*s[i++]),Po(2,6,10,14,e,t+2*s[i++]),jo(2,6,10,14,e,t+2*s[i++]),Po(3,7,11,15,e,t+2*s[i++]),jo(3,7,11,15,e,t+2*s[i++]),Po(0,5,10,15,e,t+2*s[i++]),jo(0,5,10,15,e,t+2*s[i++]),Po(1,6,11,12,e,t+2*s[i++]),jo(1,6,11,12,e,t+2*s[i++]),Po(2,7,8,13,e,t+2*s[i++]),jo(2,7,8,13,e,t+2*s[i++]),Po(3,4,9,14,e,t+2*s[i++]),jo(3,4,9,14,e,t+2*s[i++]);this.v0l^=Jo[0]^Jo[16],this.v0h^=Jo[1]^Jo[17],this.v1l^=Jo[2]^Jo[18],this.v1h^=Jo[3]^Jo[19],this.v2l^=Jo[4]^Jo[20],this.v2h^=Jo[5]^Jo[21],this.v3l^=Jo[6]^Jo[22],this.v3h^=Jo[7]^Jo[23],this.v4l^=Jo[8]^Jo[24],this.v4h^=Jo[9]^Jo[25],this.v5l^=Jo[10]^Jo[26],this.v5h^=Jo[11]^Jo[27],this.v6l^=Jo[12]^Jo[28],this.v6h^=Jo[13]^Jo[29],this.v7l^=Jo[14]^Jo[30],this.v7h^=Jo[15]^Jo[31],Jo.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qo=x((e=>new Yo(e))),Zo=new Uint8Array([83,83,53,56,80,82,69]),Wo=e=>qo(m(Zo,e)).slice(0,2),Xo=e=>t=>{const r=m(new Uint8Array([e]),t),n=Wo(r);return Zt(m(r,n))},$o=e=>t=>{const r=Wt(t);if(r[0]!==e)throw new Error("Unrecognized address format");if(!X(r.slice(33,35),Wo(r.slice(0,33))))throw new Error("Unrecognized address format");return r.slice(1,33)},_o={name:"dot",coinType:354,encode:Xo(0),decode:$o(0)},ei={name:"egld",coinType:508,encode:hr("erd"),decode:dr("erd")},ti={name:"ela",coinType:2305,encode:Zt,decode:Wt},ri={name:"eos",coinType:194,encode:nr("EOS"),decode:or("EOS")},ni={name:"etcLegacy",coinType:61,encode:Bo(),decode:Uo()},oi={name:"eth",coinType:60,encode:Bo(),decode:Uo()},ii=Qt.checksum(4,Yn),si={name:"etn",coinType:415,encode:e=>{const t=m(new Uint8Array([18]),e),r=ii.encode(t);return qn(r)},decode:e=>{const t=Zn(e);if(18!==t[0])throw new Error("Unrecognised address format");return ii.decode(t).slice(1)}},ci={name:"ewtLegacy",coinType:246,encode:Bo(),decode:Uo()},ai={name:"fil",coinType:461,encode:e=>{const t=e.slice(1),r=e[0];if(0===r){const e=(e=>{let t=0n,r=0n;for(const n of e){if(t|=BigInt(127&n)<<r,!(128&n))break;r+=7n}return t})(t);return`f${r}${e}`}const n=m(t,qo(e,{dkLen:4}));return`f${r}${$r(n).toLowerCase()}`},decode:e=>{if(!(e=>{if(e.length<3)return!1;if("f"!==e[0])return!1;if("0"===e[1]){if(e.length>22)return!1}else if("1"===e[1]||"2"===e[1]){if(41!==e.length)return!1}else{if("3"!==e[1])return!1;if(86!==e.length)return!1}return!0})(e))throw new Error("Unrecognised address format");const t=parseInt(e[1],10),r=new Uint8Array([t]),n=e.slice(2);if(0===t)return m(r,(e=>{const t=[];do{let r=Number(127n&e);0n!=(e>>=7n)&&(r|=128),t.push(r)}while(0n!=e);return Uint8Array.from(t)})(BigInt(n)));const o=_r(n.toUpperCase()),i=o.slice(0,-4),s=o.slice(-4),c=m(r,i),a=(e=>qo(e,{dkLen:4}))(c);if(!X(s,a))throw new Error("Unrecognised address format");return c}},hi={name:"fio",coinType:235,encode:nr("FIO"),decode:or("FIO")},di=[new Uint8Array([82])],li=[new Uint8Array([7])],fi={name:"firo",coinType:136,encode:er(di[0],li[0]),decode:tr(di,li)},ui=[0x00001n,0x00002n,0x00004n,0x00008n,0x00010n,0x00020n,0x00040n,0x00080n,0x00100n,0x00200n,0x00400n,0x00800n,0x01000n,0x02000n,0x04000n,0x08000n,0x10000n,0x20000n,0x40000n,0x7328dn,0x6689an,0x6112fn,0x6084bn,0x433fdn,0x42aabn,0x41951n,0x233cen,0x22a81n,0x21948n,0x1ef60n,0x1decan,0x1c639n,0x1bdd8n,0x1a535n,0x194acn,0x18c46n,0x1632bn,0x1529bn,0x14a43n,0x13184n,0x12942n,0x118c1n,0x0f812n,0x0e027n,0x0d00en,0x0c83cn,0x0b01dn,0x0a831n,0x0982bn,0x07034n,0x0682an,0x05819n,0x03807n,0x007d2n,0x00727n,0x0068en,0x0067cn,0x0059dn,0x004ebn,0x003b4n,0x0036an,0x002d9n,0x001c7n,0x0003fn],wi={name:"flow",coinType:539,encode:e=>{let t=new Uint8Array(8);return e.length>8?t.set(e.slice(e.length-8)):t.set(e,8-e.length),Lr(t).toLowerCase()},decode:e=>{if(!function(e){let t=0n;for(let r=0;r<64;r++)1n===(1n&e)&&(t^=ui[r]),e>>=1n;return 0n===t&&0n===e}(BigInt(e)))throw new Error("Unrecognised address format");return Tr(e.startsWith("0x")?e.slice(2):e)}},Ai=({hrp:e,p2pkhVersions:t,p2shVersions:r})=>{const n=dr(e),o=tr(t,r);return t=>t.toLowerCase().startsWith(e)?n(t):o(t)},gi=({hrp:e,p2pkhVersions:t,p2shVersions:r})=>{const n=hr(e),o=er(t[0],r[0]);return e=>{try{return o(e)}catch{return n(e)}}},pi=[new Uint8Array([28,184])],yi=[new Uint8Array([28,189])],mi=gi({hrp:"za",p2pkhVersions:pi,p2shVersions:yi}),bi=Ai({hrp:"za",p2pkhVersions:pi,p2shVersions:yi}),Ei={name:"flux",coinType:19167,encode:mi,decode:bi},xi=Bo(),Bi={name:"ftmLegacy",coinType:1007,encode:xi,decode:Uo()},Ui={name:"gnoLegacy",coinType:700,encode:Bo(),decode:Uo()},vi={name:"goLegacy",coinType:6060,encode:Bo(),decode:Uo()},Ci="grin",ki={name:"grin",coinType:592,encode:hr(Ci),decode:dr(Ci)},Li={name:"gxc",coinType:2303,encode:nr("GXC"),decode:or("GXC")},Ii={name:"hbar",coinType:3030,encode:e=>{if(20!==e.length)throw new Error("Unrecognised address format");const t=new DataView(e.buffer,0,20);return[t.getUint32(0),t.getBigUint64(4),t.getBigUint64(12,!1)].join(".")},decode:e=>{const t=new DataView(new ArrayBuffer(20),0,20),r=e.split(".");if(3!==r.length)throw new Error("Unrecognised address format");const n=Number(r[0]),o=BigInt(r[1]),i=BigInt(r[2]);return t.setUint32(0,n),t.setBigUint64(4,o),t.setBigUint64(12,i),new Uint8Array(t.buffer,0,20)}},Ti={name:"hive",coinType:825,encode:nr("STM"),decode:or("STM")},Di=new Uint8Array([0]),Si={name:"hns",coinType:5353,encode:e=>{if(20!==e.length)throw new Error("Unrecognised address format");return jt.encode("hs",[Di[0],...jt.toWords(e)])},decode:e=>{const{prefix:t,words:r}=jt.decode(e);if("hs"!==t)throw new Error("Unrecognised address format");const n=r[0],o=jt.fromWords(r.slice(1));if(n!==Di[0])throw new Error("Unrecognised address format");if(20!==o.length)throw new Error("Unrecognised address format");return new Uint8Array(o)}},Qi={name:"hnt",coinType:904,encode:e=>{const t=m(new Uint8Array([0]),e);return $t(t)},decode:e=>{const t=_t(e);if(0!==t[0])throw new Error("Unrecognised address format");return t.slice(1)}},Oi={name:"icx",coinType:74,encode:e=>{if(21!==e.length)throw new Error("Invalid address length");const t=e[0];if(0===t)return`hx${Ir(e.slice(1))}`;if(1===t)return`cx${Ir(e.slice(1))}`;throw new Error("Invalid address type")},decode:e=>{const t=e.slice(0,2),r=e.slice(2);if("hx"===t)return m(new Uint8Array([0]),Tr(r));if("cx"===t)return m(new Uint8Array([1]),Tr(r));throw new Error("Invalid address prefix")}},Ni={name:"iost",coinType:291,encode:Zt,decode:Wt},Hi="iota",Fi=new Uint8Array([0]),Ri=hr(Hi),Mi=dr(Hi),Vi={name:"iota",coinType:4218,encode:e=>Ri(m(Fi,e)),decode:e=>Mi(e).slice(1)},Gi={name:"iotx",coinType:304,encode:hr("io"),decode:dr("io")},zi={name:"iris",coinType:566,encode:hr("iaa"),decode:dr("iaa")},Ki="kava",Ji={name:"kava",coinType:459,encode:hr(Ki),decode:dr(Ki)},Pi=[new Uint8Array([60])],ji=[new Uint8Array([85])],Yi={name:"kmd",coinType:141,encode:er(Pi[0],ji[0]),decode:tr(Pi,ji)},qi={name:"ksm",coinType:434,encode:Xo(2),decode:$o(2)},Zi=[new Uint8Array([28])],Wi=[new Uint8Array([50]),new Uint8Array([5])],Xi={name:"lcc",coinType:192,encode:gn({hrp:"lcc",p2pkhVersions:Zi,p2shVersions:Wi}),decode:An({hrp:"lcc",p2pkhVersions:Zi,p2shVersions:Wi})},$i=[new Uint8Array([30])],_i=[new Uint8Array([13])],es={name:"lrg",coinType:568,encode:er($i[0],_i[0]),decode:tr($i,_i)},ts={name:"lsk",coinType:134,encode:e=>`${function(e){let t=BigInt(0);for(let r=0;r<e.length;r++)t=t<<BigInt(8)|BigInt(e[r]);return t.toString(10)}(e)}L`,decode:e=>{if(e.length<2||e.length>22)throw new Error("Invalid address length");if(!e.endsWith("L")||e.includes("."))throw new Error("Invalid address format");return function(e){let t=BigInt(e);const r=[];for(;t>0;)r.unshift(Number(t&BigInt(255))),t>>=BigInt(8);return new Uint8Array(r)}(e.slice(0,-1))}},rs=[new Uint8Array([48])],ns=[new Uint8Array([50]),new Uint8Array([5])],os={name:"ltc",coinType:2,encode:gn({hrp:"ltc",p2pkhVersions:rs,p2shVersions:ns}),decode:An({hrp:"ltc",p2pkhVersions:rs,p2shVersions:ns})},is="terra",ss={name:"luna",coinType:330,encode:hr(is),decode:dr(is)},cs="mona",as=[new Uint8Array([50])],hs=[new Uint8Array([55]),new Uint8Array([5])],ds={name:"mona",coinType:22,encode:gn({hrp:cs,p2pkhVersions:as,p2shVersions:hs}),decode:An({hrp:cs,p2pkhVersions:as,p2shVersions:hs})},ls={name:"mrx",coinType:326,encode:$t,decode:_t},fs=(e,t,r)=>{const n=e.length*t%r,o=0===n?0:r-n;let i=0,s=0;const c=2**r-1,a=[];for(let n=0;n<e.length;n++){const h=e[n];if(h>=2**t)throw new Error(`convertRadixNano: invalid data word=${h} from=${t}`);if(i=i<<t|h,s+t>32)throw new Error(`convertRadixNano: carry overflow pos=${s} from=${t}`);for(s+=t;s>=r;s-=r)a.push(i>>>s+o-r&c)}return i=i<<r-(s+o)&c,s>0&&a.push(i>>>0),a},us={encode:e=>fs(e,8,5),decode:e=>{const t=5*e.length%8;let r=fs(e,5,8);return 0!==t&&(r=r.slice(1)),Uint8Array.from(r)}},ws=Qt.chain(us,Qt.alphabet("13456789abcdefghijkmnopqrstuwxyz"),Qt.join("")),As={name:"nano",coinType:165,encode:e=>{const t=ws.encode(e),r=qo(e,{dkLen:5}).reverse();return`nano_${t}${ws.encode(r)}`},decode:e=>{const t=ws.decode(e.slice(5));return Uint8Array.from(t.slice(0,-5))}},gs=Qt.checksum(4,jn),ps={name:"nas",coinType:2718,encode:e=>{const t=gs.encode(e);return Zt(t)},decode:e=>{const t=Wt(e);if(26!==t.length||25!==t[0]||87!==t[1]&&88!==t[1])throw new Error("Unrecognised address format");return gs.decode(t)}},ys=/^(([a-z\d]+[\-_])*[a-z\d]+\.)*([a-z\d]+[\-_])*[a-z\d]+$/,ms=e=>!(e.length<2||e.length>64||!ys.test(e)),bs={name:"near",coinType:397,encode:e=>{const t=(r=e,(new TextDecoder).decode(r));var r;if(!ms(t))throw new Error("Unrecognised address format");return t},decode:e=>{if(!ms(e))throw new Error("Unrecognised address format");return kr(e)}},Es={name:"neo",coinType:888,encode:$t,decode:_t},xs="NQ",Bs=e=>("00"+(98-(e=>{const t=e.toUpperCase().split("").map((e=>{const t=e.charCodeAt(0);return t>=48&&t<=57?e:(t-55).toString()})).join("");let r="";for(let e=0;e<Math.ceil(t.length/6);e++){const n=t.slice(6*e,6*e+6);r=(parseInt(r+n,10)%97).toString()}return parseInt(r,10)})(e+xs+"00"))).slice(-2),Us=Qt.chain(Qt.radix2(5),Qt.alphabet("0123456789ABCDEFGHJKLMNPQRSTUVXY"),Qt.padding(5),Qt.join("")),vs={name:"nim",coinType:242,encode:e=>{const t=Us.encode(e),r=Bs(t);return`${xs}${r}${t}`.replace(/.{4}/g,"$& ").trim()},decode:e=>{if(!e.startsWith(xs))throw new Error("Unrecognised address format");const t=e.replace(/ /g,""),r=t.slice(2,4),n=t.slice(4);if(r!==Bs(n))throw new Error("Unrecognised address format");return Us.decode(n)}},Cs={name:"nmc",coinType:7,encode:$t,decode:_t},ks="npub",Ls={name:"nostr",coinType:1237,encode:hr(ks),decode:dr(ks)},Is={name:"nrgLegacy",coinType:9797,encode:Bo(),decode:Uo()},Ts=["a","b","c","d","e"],Ds={name:"nuls",coinType:8964,encode:e=>{const t=255&e[0]|(255&e[1])<<8,r=new Uint8Array(e.length+1);let n,o=0;for(let t=0;t<e.length;t++){const n=e[t],i=n>127?n-256:n;r[t]=i,o^=i}if(r[e.length]=o,1===t)n="NULS";else if(2===t)n="tNULS";else{const e=m(new Uint8Array([255&t]),new Uint8Array([255&t>>8]));n=Zt(e).toUpperCase()}return n+Ts[n.length-1]+Zt(r)},decode:e=>{let t;t=e.startsWith("NULS")?e.slice(5):e.startsWith("tNULS")?e.slice(6):(e=>{for(let t=0;t<e.length;t++)if(e.charCodeAt(t)>=97)return e.slice(t+1);throw new Error("Unrecognised address format")})(e);const r=Wt(t);let n=0;for(let e=0;e<r.length-1;e++){const t=r[e],o=t>127?t-256:t;r[e]=o,n^=o}if(n<0&&(n+=256),n!==r[r.length-1])throw new Error("Unrecognised address format");return r.slice(0,-1)}},Ss={name:"one",coinType:1023,encode:hr("one"),decode:dr("one")},Qs={name:"ont",coinType:1024,encode:e=>{const t=m(new Uint8Array([23]),e);return $t(t)},decode:e=>{const t=_t(e);if(23!==t[0])throw new Error("Unrecognised address format");return t.slice(1)}},Os={name:"poaLegacy",coinType:178,encode:Bo(),decode:Uo()},Ns=[new Uint8Array([55])],Hs=[new Uint8Array([117])],Fs={name:"ppc",coinType:6,encode:er(Ns[0],Hs[0]),decode:tr(Ns,Hs)},Rs={name:"qtum",coinType:2301,encode:$t,decode:_t},Ms={name:"rbtc",coinType:137,encode:Bo(30),decode:Uo(30)},Vs=[new Uint8Array([61])],Gs=[new Uint8Array([5])],zs={name:"rdd",coinType:4,encode:er(Vs[0],Gs[0]),decode:tr(Vs,Gs)},Ks="thor",Js={name:"rune",coinType:931,encode:hr(Ks),decode:dr(Ks)},Ps=[new Uint8Array([60])],js=[new Uint8Array([122])],Ys={name:"rvn",coinType:175,encode:er(Ps[0],js[0]),decode:tr(Ps,js)},qs=e=>qo(e,{dkLen:32}).slice(0,6),Zs={name:"sc",coinType:1991,encode:e=>{const t=qs(e);return Ir(m(e,t))},decode:e=>{if(76!==e.length)throw new Error("Unrecognised address format");const t=Tr(e),r=t.slice(0,-6);if(!X(t.slice(-6),qs(r)))throw new Error("Unrecognised address format");return r}},Ws={name:"sero",coinType:569,encode:Zt,decode:e=>{const t=Wt(e);if(96!==t.length)throw new Error("Unrecognised address format");return t}},Xs={name:"sol",coinType:501,encode:e=>{if(32!==e.length)throw new Error("Unrecognised address format");const t=Zt(e);if(t.length<32||t.length>44)throw new Error("Unrecognised address format");return t},decode:e=>{if(e.length<32||e.length>44)throw new Error("Unrecognised address format");const t=Wt(e);if(32!==t.length)throw new Error("Unrecognised address format");return t}},$s={name:"srm",coinType:573,encode:Zt,decode:Wt},_s={name:"steem",coinType:135,encode:nr("STM"),decode:or("STM")},ec=[new Uint8Array([63])],tc=[new Uint8Array([125])],rc={name:"strat",coinType:105,encode:er(ec[0],tc[0]),decode:tr(ec,tc)},nc=/^0x[a-fA-F0-9]{64}$/,oc=e=>{const t=Ir(e).toLowerCase().split(""),r=e.findIndex((e=>0!==e)),n=r>0?e.slice(r):e,o=new Uint8Array(32);return o.set(Yn(n),r),bo({address:t,hash:o,length:64})},ic={name:"strk",coinType:9004,encode:e=>{if(32!==e.length)throw new Error("Unrecognised address format");return oc(e)},decode:e=>{if(!nc.test(e))throw new Error("Unrecognised address format");const t=Cr(e);if(oc(t)!==e)throw new Error("Unrecognised address format");return t}},sc=new Uint8Array([22]),cc=new Uint8Array([20]),ac={encode:e=>hc(e,8,5,!0),decode:e=>Uint8Array.from(hc(e,5,8,!1))},hc=(e,t,r,n)=>{let o=0,i=0;const s=2**r-1,c=[];for(const n of e.reverse()){o|=n<<i,i+=t;let e=0;for(;i>=r;i-=r){const t=(o>>r*e&s)>>>0;c.unshift(t),e+=1}o>>=r*e}if(!n&&i>=t)throw new Error("Excess padding");if(!n&&o)throw new Error(`Non-zero padding: ${o}`);return n&&i>0&&c.unshift(o>>>0),c},dc=Qt.chain(ac,Qt.alphabet("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Qt.join("")),lc=e=>T(T(e)).slice(0,4),fc={name:"stx",coinType:5757,encode:e=>{if(24!==e.length)throw new Error("Unrecognised address format");const t=e.slice(0,20),r=e.slice(-4);let n,o;if(X(r,lc(m(sc,t))))n="P",o=dc.encode(e);else{if(!X(r,lc(m(cc,t))))throw new Error("Unrecognised address format");n="M",o=dc.encode(e)}return`S${n}${o}`},decode:e=>{if(e.length<6)throw new Error("Unrecognised address format");if("S"!==e[0])throw new Error("Unrecognised address format");const t=(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))(e),r=t[1];let n;if("P"===r)n=sc;else{if("M"!==r)throw new Error("Unrecognised address format");n=cc}const o=dc.decode(t.slice(2)),i=o.slice(0,-4);if(!X(o.slice(-4),lc(m(n,i))))throw new Error("Unrecognised address format");return o}},uc=[new Uint8Array([63])],wc=[new Uint8Array([5])],Ac={name:"sys",coinType:57,encode:gn({hrp:"sys",p2pkhVersions:uc,p2shVersions:wc}),decode:An({hrp:"sys",p2pkhVersions:uc,p2shVersions:wc})},gc={name:"tfuel",coinType:589,encode:Bo(),decode:Uo()},pc={name:"thetaLegacy",coinType:500,encode:Bo(),decode:Uo()},yc={name:"tomoLegacy",coinType:889,encode:Bo(),decode:Uo()},mc={name:"trx",coinType:195,encode:$t,decode:_t},bc={name:"ttLegacy",coinType:1001,encode:Bo(),decode:Uo()},Ec={name:"vet",coinType:818,encode:Bo(),decode:Uo()},xc=[new Uint8Array([71])],Bc=[new Uint8Array([33])],Uc={name:"via",coinType:14,encode:er(xc[0],Bc[0]),decode:tr(xc,Bc)},vc={name:"vlx",coinType:5655640,encode:Zt,decode:Wt},Cc={name:"vlxLegacy",coinType:574,encode:Zt,decode:Wt},kc=e=>5===e[0]&&77===e[1]&&26===e.length&&!!X(e.slice(-4),Yn(qo(e.slice(0,-4),{dkLen:32})).slice(0,4)),Lc={name:"vsys",coinType:360,encode:e=>{if(!kc(e))throw new Error("Unrecognised address format");return Zt(e)},decode:e=>{const t=e.startsWith("address:")?e.slice(8):e;if(t.length>36)throw new Error("Unrecognised address format");const r=Wt(t);if(!kc(r))throw new Error("Unrecognised address format");return r}},Ic=e=>{const t=Ir(e),r=t.split(""),n=Yn(kr(t));let o;for(let e=0;e<40;e++)o=n[Math.floor(e/2)],e%2==0?o>>=4:o&=15,r[e]>"9"&&o<=7&&(r[e]=r[e].toUpperCase());return`0x${r.join("")}`},Tc={name:"wan",coinType:5718350,encode:e=>Ic(e),decode:e=>{if(!xo(e))throw new Error("Unrecognised address format");const t=Cr(e);if(Ic(t)!==e)throw new Error("Unrecognised address format");return t}},Dc=Qt.checksum(4,(e=>Yn(qo(e,{dkLen:32})))),Sc={name:"waves",coinType:5741564,encode:Zt,decode:e=>{const t=Wt(e);if(1!==t[0])throw new Error("Invalid address format");if(87!==t[1]||26!==t.length)throw new Error("Invalid address format");return Dc.decode(t),t}},Qc=[new Uint8Array([73])],Oc=[new Uint8Array([51])],Nc={name:"wicc",coinType:99999,encode:er(Qc[0],Oc[0]),decode:tr(Qc,Oc)},Hc={name:"xch",coinType:8444,encode:cr({hrp:"xch",bechLib:Yt,limit:90}),decode:ar({hrp:"xch",bechLib:Yt,limit:90})},Fc={name:"xem",coinType:43,encode:Zr,decode:e=>{const t=e.toUpperCase().replace(/-/g,"");if(!t||40!==t.length)throw new Error("Invalid address");const r=Wr(t);if(Ir(Yn(r.slice(0,21))).slice(0,8)!==Ir(r.slice(21)))throw new Error("Invalid address");return r}},Rc={name:"xhv",coinType:535,encode:qn,decode:Zn},Mc=new Uint8Array([48]),Vc=e=>{let t=0;for(let r=0;r<e.length;r++){let n=t>>>8&255;n^=255&e[r],n^=n>>>4,t=t<<8&65535,t^=n,n=n<<5&65535,t^=n,n=n<<7&65535,t^=n}return Tr(t.toString(16).padStart(4,"0")).reverse()},Gc={name:"xlm",coinType:148,encode:e=>{const t=m(Mc,e),r=m(t,Vc(t));return Zr(r)},decode:e=>{const t=Wr(e),r=t[0],n=t.slice(0,-2),o=n.slice(1),i=t.slice(-2);if(r!==Mc[0])throw new Error("Unrecognised address format");if(!X(i,Vc(n)))throw new Error("Unrecognised address format");return o}},zc=Qt.chain(Qt.checksum(4,(e=>T(T(e)))),Rt),Kc={name:"xrp",coinType:144,encode:zc.encode,decode:zc.decode},Jc={name:"xtz",coinType:1729,encode:e=>{if(22!==e.length&&21!==e.length)throw new Error("Unrecognised address format");const t=e[0];if(0===t){let t;if(0===e[1])t=new Uint8Array([6,161,159]);else if(1===e[1])t=new Uint8Array([6,161,161]);else{if(2!==e[1])throw new Error("Unrecognised address format");t=new Uint8Array([6,161,164])}return $t(m(t,e.slice(2)))}if(1===t)return $t(m(new Uint8Array([2,90,121]),e.slice(1,21)));throw new Error("Unrecognised address format")},decode:e=>{const t=_t(e).slice(3),r=e.slice(0,3);if("tz1"===r)return m(new Uint8Array([0,0]),t);if("tz2"===r)return m(new Uint8Array([0,1]),t);if("tz3"===r)return m(new Uint8Array([0,2]),t);if("KT1"===r)return m(new Uint8Array([1]),t,new Uint8Array([0]));throw new Error("Unrecognised address format")}},Pc=[new Uint8Array([30])],jc=[new Uint8Array([33])],Yc={name:"xvg",coinType:77,encode:er(Pc[0],jc[0]),decode:tr(Pc,jc)},qc=[new Uint8Array([28,184])],Zc=[new Uint8Array([28,189])],Wc={name:"zec",coinType:133,encode:gi({hrp:"zs",p2pkhVersions:qc,p2shVersions:Zc}),decode:Ai({hrp:"zs",p2pkhVersions:qc,p2shVersions:Zc})},Xc=[new Uint8Array([32,137]),new Uint8Array([28,184]),new Uint8Array([32,150]),new Uint8Array([28,189]),new Uint8Array([22,154])],$c={name:"zen",coinType:121,encode:e=>{const t=e.slice(0,2);if(!Xc.some((e=>X(e,t))))throw new Error("Invalid prefix");return $t(e)},decode:e=>{const t=_t(e),r=t.slice(0,2);if(!Xc.some((e=>X(e,r))))throw new Error("Invalid prefix");return t}},_c={name:"zil",coinType:313,encode:hr("zil"),decode:dr("zil")};var ea=Object.freeze({__proto__:null,abbc:sr,ada:Er,ae:xr,aib:vr,aion:Sr,algo:tn,ar:rn,ardr:hn,ark:dn,atom:ln,avax:wn,bcd:mn,bch:Tn,bcn:$n,bdx:_n,bnb:eo,bps:no,bsv:oo,btc:co,btg:lo,btm:fo,bts:uo,cca:go,ccxx:mo,celoLegacy:vo,ckb:Co,cloLegacy:ko,dash:To,dcr:Do,dgb:Oo,divi:Fo,doge:Vo,dot:_o,egld:ei,ela:ti,eos:ri,etcLegacy:ni,eth:oi,etn:si,ewtLegacy:ci,fil:ai,fio:hi,firo:fi,flow:wi,flux:Ei,ftmLegacy:Bi,gnoLegacy:Ui,goLegacy:vi,grin:ki,gxc:Li,hbar:Ii,hive:Ti,hns:Si,hnt:Qi,icx:Oi,iost:Ni,iota:Vi,iotx:Gi,iris:zi,kava:Ji,kmd:Yi,ksm:qi,lcc:Xi,lrg:es,lsk:ts,ltc:os,luna:ss,mona:ds,mrx:ls,nano:As,nas:ps,near:bs,neo:Es,nim:vs,nmc:Cs,nostr:Ls,nrgLegacy:Is,nuls:Ds,one:Ss,ont:Qs,poaLegacy:Os,ppc:Fs,qtum:Rs,rbtc:Ms,rdd:zs,rune:Js,rvn:Ys,sc:Zs,sero:Ws,sol:Xs,srm:$s,steem:_s,strat:rc,strk:ic,stx:fc,sys:Ac,tfuel:gc,thetaLegacy:pc,tomoLegacy:yc,trx:mc,ttLegacy:bc,vet:Ec,via:Uc,vlx:vc,vlxLegacy:Cc,vsys:Lc,wan:Tc,waves:Sc,wicc:Nc,xch:Hc,xem:Fc,xhv:Rc,xlm:Gc,xmr:Wn,xrp:Kc,xtz:Jc,xvg:Yc,zec:Wc,zen:$c,zil:_c});const ta=Object.freeze({2147483658:["op","Optimism"],2147483673:["cro","Cronos"],2147483704:["bsc","BNB Smart Chain"],2147483708:["go","GoChain"],2147483709:["etc","Ethereum Classic"],2147483736:["tomo","TomoChain"],2147483747:["poa","POA"],2147483748:["gno","Gnosis"],2147483756:["tt","ThunderCore"],2147483785:["matic","Polygon"],2147483817:["manta","Manta Pacific"],2147483894:["ewt","Energy Web"],2147483898:["ftm","Fantom Opera"],2147483936:["boba","Boba"],2147483972:["zksync","zkSync"],2147484009:["theta","Theta"],2147484468:["clo","Callisto"],2147484736:["metis","Metis"],2147488648:["mantle","Mantle"],2147492101:["base","Base"],2147523445:["nrg","Energi"],2147525809:["arb1","Arbitrum One"],2147525868:["celo","Celo"],2147526762:["avaxc","Avalanche C-Chain"],2147542792:["linea","Linea"],2148018e3:["scr","Scroll"],2155261425:["zora","Zora"]}),ra=Object.freeze({0:["btc","Bitcoin"],2:["ltc","Litecoin"],3:["doge","Dogecoin"],4:["rdd","Reddcoin"],5:["dash","Dash"],6:["ppc","Peercoin"],7:["nmc","Namecoin"],14:["via","Viacoin"],20:["dgb","DigiByte"],22:["mona","Monacoin"],42:["dcr","Decred"],43:["xem","NEM"],55:["aib","AIB"],57:["sys","Syscoin"],60:["eth","Ethereum"],61:["etcLegacy","[LEGACY] Ethereum Classic"],74:["icx","ICON"],77:["xvg","Verge"],105:["strat","Stratis"],111:["ark","ARK"],118:["atom","Atom"],121:["zen","Zencash"],128:["xmr","Monero"],133:["zec","Zcash"],134:["lsk","Lisk"],135:["steem","Steem"],136:["firo","Firo"],137:["rbtc","RSK"],141:["kmd","Komodo"],144:["xrp","Ripple"],145:["bch","Bitcoin Cash"],148:["xlm","Stellar Lumens"],153:["btm","Bytom"],156:["btg","Bitcoin Gold"],165:["nano","Nano"],175:["rvn","Ravencoin"],178:["poaLegacy","[LEGACY] POA"],192:["lcc","LitecoinCash"],194:["eos","EOS"],195:["trx","Tron"],204:["bcn","Bytecoin"],235:["fio","FIO"],236:["bsv","BitcoinSV"],242:["nim","Nimiq"],246:["ewtLegacy","[LEGACY] Energy Web"],283:["algo","Algorand"],291:["iost","IOST"],301:["divi","Divi Project"],304:["iotx","IoTeX"],308:["bts","Bitshares"],309:["ckb","Nervos CKB"],313:["zil","Zilliqa"],326:["mrx","Metrix Coin"],330:["luna","Terra"],354:["dot","Polkadot"],360:["vsys","V Systems"],367:["abbc","ABBC"],397:["near","NEAR Protocol"],415:["etn","Electroneum"],425:["aion","Aion"],434:["ksm","Kusama"],457:["ae","æternity"],459:["kava","Kava"],461:["fil","Filecoin"],472:["ar","Arweave"],489:["cca","Counos"],500:["thetaLegacy","[LEGACY] Theta"],501:["sol","Solana"],508:["egld","MultiversX"],535:["xhv","Haven Protocol"],539:["flow","Flow"],566:["iris","Irisnet"],568:["lrg","Large Coin"],569:["sero","Super Zero Protocol"],570:["bdx","Beldex"],571:["ccxx","Counos X"],573:["srm","Serum"],574:["vlxLegacy","[LEGACY] Velas"],576:["bps","BitcoinPoS"],589:["tfuel","Theta Fuel"],592:["grin","Grin"],700:["gnoLegacy","[LEGACY] Gnosis"],714:["bnb","BNB"],818:["vet","VeChain"],820:["cloLegacy","[LEGACY] Callisto"],825:["hive","Hive"],888:["neo","NEO"],889:["tomoLegacy","[LEGACY] TomoChain"],904:["hnt","Helium"],931:["rune","THORChain"],999:["bcd","Bitcoin Diamond"],1001:["ttLegacy","[LEGACY] ThunderCore"],1007:["ftmLegacy","[LEGACY] Fantom"],1023:["one","HARMONY-ONE"],1024:["ont","Ontology"],1237:["nostr","Nostr"],1729:["xtz","Tezos"],1815:["ada","Cardano"],1991:["sc","Sia"],2301:["qtum","QTUM"],2303:["gxc","GXChain"],2305:["ela","Elastos"],2718:["nas","Nebulas"],3030:["hbar","Hedera HBAR"],4218:["iota","IOTA"],5353:["hns","Handshake"],5757:["stx","Stacks"],6060:["goLegacy","[LEGACY] GoChain"],8444:["xch","Chia"],8964:["nuls","NULS"],9e3:["avax","Avalanche"],9004:["strk","StarkNet"],9797:["nrgLegacy","[LEGACY] Energi"],16754:["ardr","Ardor"],19167:["flux","Flux"],52752:["celoLegacy","[LEGACY] Celo"],99999:["wicc","Waykichain"],5655640:["vlx","Velas"],5718350:["wan","Wanchain"],5741564:["waves","Waves"]}),na=Object.freeze({...ra,...ta}),oa=Object.freeze(Object.fromEntries(Object.entries(ta).map((([e,[t]])=>[t,parseInt(e)])))),ia=Object.freeze(Object.fromEntries(Object.entries(ra).map((([e,[t]])=>[t,parseInt(e)])))),sa=Object.freeze({...oa,...ia}),ca=2147483648,aa=e=>{const t=na[String(e)];if(e>=ca){const r=(e=>{if(!(e&ca))throw new Error("Coin type is not an EVM chain");return 2147483647&e})(e),n=!t,o=n?`Unknown Chain (${r})`:t[0],i=oi;return{name:o,coinType:e,evmChainId:r,isUnknownChain:n,encode:i.encode,decode:i.decode}}if(!t)throw new Error(`Unsupported coin type: ${e}`);const[r]=t;return ea[r]};function ha(e){return Array.isArray(e)?e:e?e.split("."):[]}function da(e){return ha(e).reduceRight(((e,t)=>(e.set(Yn(t),32),e.set(Yn(e),0),e)),new Uint8Array(64)).slice(0,32)}function la(e){let t=ha(e),r=t.map((e=>{let r=p(e);if(!r.length)throw fa("empty label",{labels:t});if(r.length>255)throw fa("too long",{labels:t,label:e});return r})),n=new Uint8Array(r.reduce(((e,t)=>e+1+t.length),1)),o=0;for(let e of r)n[o++]=e.length,n.set(e,o),o+=e.length;return n}function fa(e,t,r){let n;return r?(n=new Error(e,{cause:r}),n.cause||(n.cause=r)):n=new Error(e),Object.assign(n,t)}function ua(e){return"number"==typeof e}function wa(e){return"string"==typeof e}function Aa(e){return"bigint"==typeof e}function ga(e){return wa(e)&&/^0x([0-9A-F]*|[0-9a-f]*)/i.test(e)}function pa(e,t=!0){if(e instanceof Uint8Array)return t?e.slice():e;let r=ya(e);if(r!==e)return r;throw fa("expected bytes-like",{value:e})}function ya(e,t){return e instanceof Uint8Array?e.slice():Array.isArray(e)?Uint8Array.from(e):!t&&ga(e)?g(e.slice(2)):e}function ma(e){return(new TextDecoder).decode(e)}function ba(e){if((e=ya(e,!0))instanceof Uint8Array){if(32!==e.length)throw fa("expected 32-bytes",{value:e});return e}return g(BigInt(e).toString(16).padStart(64,"0").slice(-64))}function Ea(e){return"0x"+w(e)}function xa(e,t){return BigInt(Ea(e.subarray(t,t+32)))}function Ba(e,t){if(!e||!t)return!e==!t;let r=e.length,n=t.length===r;for(let o=0;n&&o<r;o++)n=e[o]===t[o];return n}function Ua(e,t,r){let n=t.map(((t,r)=>{let n=e[r];if("s"===n&&(n="v",t=p(t)),"v"===n){let e=new Uint8Array(1+Math.ceil(t.length/32)<<5);return s(e).setUint32(28,t.length),e.set(t,32),[!0,e]}if("i"===n)return[!1,ba(t)];if("x"===n){let e=pa(t,!1);if(31&e.length)throw fa("ragged bytes",{value:t});return[!1,e]}throw fa("unknown type",{type:n,value:t})}));wa(r)&&(r=parseInt(r,16));let o=ua(r)?4:0,i=new Uint8Array(n.reduce(((e,[t,r])=>e+r.length+(t?32:0)),o)),c=s(i),a=0;o&&c.setUint32(0,r),a+=o;let h=n.reduce(((e,[t,r])=>e+(t?32:r.length)),0);for(let[e,t]of n)e?(c.setUint32(a+28,h),a+=32,i.set(t,h+o),h+=t.length):(i.set(t,a),a+=t.length);return i}const va=new Map,Ca=0x80000000n,ka="chain:";function La(){if(!va.init){va.init=!0;for(let e of Object.values(sa))Da.fromType(e)}}const{encode:Ia,decode:Ta}=aa(60);class Da{static get count(){return La(),va.size}static[Symbol.iterator](){return La(),va.values()}static from(e){if(e instanceof this)return e;if(wa(e))return this.fromName(e);if(ua(e)||Aa(e))return this.fromType(e);let{type:t,name:r,chain:n}=e;return void 0!==t?this.fromType(t):void 0!==r?this.fromName(r):this.fromChain(n)}static chain(e){let t=this.type(e);return 60n===t?1:t&Ca?Number(t&Ca-1n):void 0}static type(e){return Aa(e)?e:ua(e)?BigInt(e):e instanceof this?e.type:this.from(e).type}static fromType(e){if((e=BigInt(e))<0)throw fa(`invalid coin type: ${e}`,{type:e});let t=va.get(e);if(!t){let r;try{e<=Number.MAX_SAFE_INTEGER&&(r=aa(Number(e)))}catch(e){}if(r){let{encode:n,decode:o}=r,i=na[e];if(i){t=new Da(e);let[r,s]=i;Object.defineProperties(t,{name:{value:r,enumerable:!0},title:{value:s,enumerable:!0},parse:{value:o},format:{value:n}}),r.endsWith("Legacy")&&(t.legacy=!0),va.set(e,t)}else t=new Qa(e)}else t=new Oa(e);Object.freeze(t)}return t}static fromName(e){let t;if(e.startsWith(ka))t=BigInt(e.slice(6))+Ca;else if(e.startsWith("#"))t=BigInt(e.slice(1));else{let r=e.trim().toLowerCase();if(r.endsWith("legacy")&&(r=r.slice(0,-6)+"Legacy"),t=sa[r],!ua(t))throw fa(`unknown coin: ${e}`,{name:e})}return this.fromType(t)}static fromChain(e){return this.fromType(1==e?60n:BigInt(e)+Ca)}constructor(e){this.type=e}get chain(){return Da.chain(this.type)}toJSON(e){return e?this.name:"0x"+this.type.toString(16)}toString(){let{type:e,name:t,title:r,chain:n}=this;return`[${t}] ${r} (${n?`Chain:${n}`:`Type:${e}`})`}toObject(){let{type:e,name:t,title:r,chain:n}=this;return{type:e,name:t,title:r,chain:n}}assertValid(e){if(!Ba(this.parse(this.format(e)),e))throw new Error("roundtrip failed")}}class Sa extends Da{get unnamed(){return!0}}class Qa extends Sa{get name(){return ka+this.chain}get title(){return"Unknown Chain Coin"}parse(e){return Ta(e)}format(e){return Ia(e)}}class Oa extends Sa{get name(){return"#"+this.type}get title(){return"Unknown Coin"}assertValid(e){return e.length>0}parse(e){throw fa("unknown parser",{coin:this,value:e})}format(e){return`{${Ea(e)}}`}toObject(){let{type:e,title:t}=this;return{type:e,title:t}}}const Na=Da.fromType(60n);class Ha{static from(e,t){if(void 0===t){if(e instanceof Ha)return new this(e.coin,e.bytes.slice());t=e,e=Na}else e=Da.from(e);try{let r=ya(t);if(r===t){if(!wa(t))throw new Error("unknown address format");r=e.parse(t)}return e.assertValid(r),new this(e,r)}catch(r){throw new fa("invalid address",{coin:e,value:t},r)}}constructor(e,t){this.coin=e,this.bytes=t}get value(){let{coin:e,bytes:t}=this;return e.format(t)}toObject(){let{coin:e,bytes:t,value:r}=this;return{coin:e.toObject(),value:r,bytes:t}}toPhex(){return Ea(this.bytes)}toString(){return this.value}toJSON(){return this.value}}function Fa(e,t=0,r=1,n){let o=[];for(let i=0;i<r;i++){let r=0,i=0,s=[];const c=127;for(;;){if(t>=e.length)throw new RangeError("buffer overflow");let n=e[t++];if(i|=(n&c)<<r,r+=7,r>=8&&(s.push(255&i),i>>=8,r-=8),n<=c)break}r&&s.push(i),o.push(n(s.reverse()))}return o.push(t),o}function Ra(e){return"0x"+e.map((e=>e.toString(16).padStart(2,"0"))).join("")}function Ma(e){let t=e.reduce(((e,t)=>256*e+t),0);if(!Number.isSafeInteger(t))throw new RangeError("unsafe");return t}function Va(e,t,r){return Fa(e,t,r,Ma)}function Ga(e,t,r=0){if("number"==typeof t&&!Number.isSafeInteger(t))throw new RangeError("unsafe");if((t=BigInt(t))<0)throw new RangeError("negative");for(;t>127n;)e[r++]=128|Number(127n&t),t>>=7n;return e[r++]=Number(t),r}var za=Object.freeze({__proto__:null,read:Va,readBigInt:function(e,t,r){return Fa(e,t,r,(e=>BigInt(Ra(e))))},readHex:function(e,t,r){return Fa(e,t,r,Ra)},write:Ga});class Ka{constructor(e){let t=this.chars=[...e];this.map=new Map(t.map(((e,t)=>[e,t])))}get length(){return this.map.size}indexOf(e){let t=this.map.get(e);if(!Number.isInteger(t))throw new TypeError(`invalid digit "${e}"`);return t}encode(e){return Array.from(e,(e=>this.chars[e])).join("")}}class Ja{constructor(e){let t=this.table=new Ka(e),r=t.length,n=this.bits=Math.log2(r);if(r<2||!Number.isInteger(n))throw new TypeError;t.chars.push("=")}decode(e){let{table:t,bits:r}=this,n=e.length,o=0,i=0,s=0;for(;n&&"="==e[n-1];)--n;let c=new Uint8Array(n*r>>3);for(let a=0;a<n;a++)i=i<<r|t.indexOf(e[a]),s+=r,s>=8&&(c[o++]=i>>(s-=8)&255);if(i<<8-s&255)throw new Error("invalid");return c}encode(e,t){let{table:r,bits:n}=this,o=(1<<n)-1,i=0,s=0,c=[];for(let t=0,r=e.length;t<r;t++)for(i=i<<8|e[t],s+=8;s>=n;)c.push(i>>(s-=n)&o);for(s&&c.push(i<<n-s&o);t&&c.length*n&7;)c.push(o+1);return r.encode(c)}}class Pa{constructor(e){this.table=new Ka(e)}decode(e){let{table:t}=this,r=t.length,n=e.length,o=new Uint8Array(n),i=0;for(let n of e){let e=t.indexOf(n);for(let t=0;t<i;t++)e+=o[t]*r,o[t]=e,e>>=8;for(;e;)o[i++]=e,e>>=8}for(let r=0;r<n&&e[r]===t.chars[0];r++)i++;return o.subarray(0,i).reverse()}encode(e){let{table:t}=this,r=t.length,n=[];for(let t of e){for(let e=0;e<n.length;++e){let o=n[e]<<8|t;n[e]=o%r,t=o/r|0}for(;t;)n.push(t%r),t=t/r|0}for(let t=0;t<e.length&&!e[t];t++)n.push(0);return t.encode(n.reverse())}}new Ka("qpzry9x8gf2tvdw0s3jn54khce6mua7l");const ja=new Map,Ya=new Set;class qa{static[Symbol.iterator](){return Ya.values()}static decode(e){let t=e.codePointAt(0),r=this.for(String.fromCodePoint(t)),n=r.decode(e.slice(t<65536?1:2));return{base:r,data:n}}static for(e){if(e instanceof this)return e;let t=ja.get(e);if(!t)throw new Error(`unknown multibase: ${e}`);return t}constructor(e,t){if(1!==e.length)throw new Error("invalid prefix");this.prefix=e,this.name=t,ja.set(e,this),ja.set(t,this),Ya.add(this)}encodeWithPrefix(e){return this.prefix+this.encode(e)}}class Za{static from(e){"string"==typeof e&&(e=qa.decode(e));let[t,r,n]=Va(e,0,2);if((e=new Uint8Array(e.slice(n))).length!==r)throw new Error(`expected ${r}, got ${e.length} bytes`);return new this(t,e)}constructor(e,t){this.codec=e,this.data=t}get bytes(){let e=[];return this.write(e),Uint8Array.from(e)}write(e,t=0){let{data:r,codec:n}=this;return t=Ga(e,r.length,Ga(e,n,t)),r.forEach((r=>e[t++]=r)),t}}const Wa="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Xa=Wa.toLowerCase(),$a="0123456789";function _a(e){return e.replaceAll(/[0OIl]/g,"")}const eh=new Ja(Wa+Xa+$a+"+/"),th=new Ja(Wa+Xa+$a+"-_"),rh=new Pa(_a($a+Wa+Xa)),nh=new Pa(_a($a+Xa+Wa)),oh=new Pa($a+Xa),ih=new Ja("ybndrfg8ejkmcpqxot1uwisza345h769"),sh=new Ja($a+Xa.slice(0,-4)),ch=new Ja("abcdefghijklmnopqrstuvwxyz234567"),ah=new Ja($a+"abcdef"),hh=new Pa($a),dh=new Ja("01234567"),lh=new Ja("01");class fh extends qa{constructor(e,t,r,{casing:n,padding:o}={}){super(e,t),this.coder=r,this.casing=n,this.padding=o}decode(e){return void 0!==this.casing&&(e=e.toLowerCase()),this.coder.decode(e)}encode(e){let t=this.coder.encode(e,this.padding);return this.casing&&(t=t.toUpperCase()),t}}new fh("0","base2",lh),new fh("7","base8",dh),new fh("9","base10",hh),new fh("f","base16",ah,{casing:!1}),new fh("F","base16upper",ah,{casing:!0}),new fh("v","base32hex",sh,{casing:!1}),new fh("V","base32hexupper",sh,{casing:!0}),new fh("t","base32hexpad",sh,{casing:!1,padding:!0}),new fh("T","base32hexpadupper",sh,{casing:!0,padding:!0}),new fh("b","base32",ch,{casing:!1}),new fh("B","base32upper",ch,{casing:!0}),new fh("c","base32pad",ch,{casing:!1,padding:!0}),new fh("C","base32padupper",ch,{casing:!0,padding:!0}),new fh("h","base32z",ih),new fh("k","base36",oh,{casing:!1}),new fh("K","base36upper",oh,{casing:!0}),new fh("z","base58btc",rh),new fh("Z","base58flickr",nh),new fh("m","base64",eh),new fh("M","base64pad",eh,{padding:!0}),new fh("u","base64url",th),new fh("U","base64urlpad",th,{padding:!0});class uh{static from(e){let t;if("string"==typeof e)if(46==e.length&&e.startsWith("Qm"))e=rh.decode(e);else if(({base:t,data:e}=qa.decode(e)),18==e[0])throw new Error("CIDv0 cannot be multibase");try{let[r,n,o]=Va(e,0,2);if(18==r){let t=Za.from(e);if(32!=t.data.length)throw new Error("CIDv0 must be 32-bytes");return new this(0,112,t)}return new this(r,n,Za.from(e.slice(o)),t)}catch(e){throw new Error(`malformed CID: ${e.message}`)}}constructor(e,t,r,n){this.version=e,this.codec=t,this.hash=r,this.base=n}get bytes(){let{version:e,codec:t,hash:r}=this;if(e){let n=[];return r.write(n,Ga(n,t,Ga(n,e))),Uint8Array.from(n)}return r.bytes}upgrade(){let{version:e,codec:t,hash:r,base:n}=this;return new uh(e||1,t,r,n)}toString(e){let{version:t,base:r,bytes:n}=this;return t?qa.for(e||r||"k").encodeWithPrefix(n):rh.encode(n)}}const wh="onion",Ah=[{mime:"text/plain",key:"text",decode:ma,encode:p},{mime:"text/html",key:"html",decode:ma,encode:p},{mime:"application/json",key:"json",decode:e=>JSON.parse(ma(e)),encode:e=>p(JSON.stringify(e))}],gh=".onion",ph={name:"Onion",toEntry(e){return[wh,this.toHash(e)]},toURL(e){return`http://${this.toHash(e)}${gh}`},gateway:e=>`https://${e}.onion.to`},yh={...ph,codec:444,legacy:!0,toHash:e=>ch.encode(e),toObject:e=>({hash:e})},mh={...ph,codec:445,toPubkey:e=>e.subarray(0,32),toHash:e=>ch.encode(e),toObject(e){return{pubkey:this.toPubkey(e),checksum:e.subarray(32,34),version:e[34]}},fromPubkey(e,t=3){let r=pa(e,!1);if(32!==r.length)throw fa("expected 32-byte pubkey",{pubkey:r});let n=new Uint8Array(48);n.set(p(gh+" checksum")),n.set(r,15),n[47]=t;let o=new Uint8Array(35);return o.set(r),o.set(jn(n).subarray(0,2),32),o[34]=t,o}},bh={codec:74566,name:"URL",toEntry(e){return["",this.toURL(e)]},toHash(e){return this.toURL(e)},toURL:e=>ma(e),toObject(e){let t=this.toURL(e);try{return{...new URL(t)}}catch(e){return Nh(t)}}};function Eh(e,t){e=y(e);let r=[],n=za.write(r,e.length),o=new Uint8Array(n+e.length+t.length);return o.set(r),o.set(e,n),o.set(t,n+e.length),o}function xh(e,t){return`data:${e};base64,${eh.encode(t,!0)}`}function Bh(e){let[t,r]=za.read(e);return[ma(e.subarray(r,r+=t)),e.subarray(r)]}const Uh={codec:74565,scheme:"data",name:"DataURL",toEntry(e){let[t,r]=Bh(e),n=Ah.find((e=>e.mime===t));return n?[n.key,n.decode(r)]:["",xh(t,r)]},toObject(e){let[t,r]=Bh(e),n={mime:t,data:r},o=Ah.find((e=>e.mime===t));return o&&(n.abbr=o.key,n.value=o.decode(r)),n},toURL(e){let[t,r]=Bh(e);return xh(t,r)},toHash(e){return this.toURL(e)}};class vh{toEntry(e){return[this.scheme,this.toHash(e)]}toURL(e){return this.scheme+"://"+this.toHash(e)}}class Ch extends vh{parseHash(e){return uh.from(e).bytes}toHash(e){return uh.from(e).toString()}toObject(e){let{version:t,codec:r,hash:n,base:o}=uh.from(e),i={version:t,codec:r};return o&&(i.base=o),i.hash={...n},{cid:i}}}const kh=Object.assign(new Ch,{codec:227,name:"IPFS",scheme:"ipfs",gateway:e=>`https://cloudflare-ipfs.com/ipfs/${e}`}),Lh=Object.assign(new Ch,{codec:229,name:"IPNS",scheme:"ipns",gateway:e=>`https://${e}.ipfs2.eth.limo`}),Ih=Object.assign(new Ch,{codec:228,name:"Swarm",scheme:"bzz",gateway:e=>`https://${e}.bzz.link`}),Th=Object.assign(new class extends vh{parseHash(e){try{let t=this.coder.decode(e);return this.validate(t),t}catch(t){throw fa("invalid hash",{hash:e},t)}}toHash(e){return this.coder.encode(e)}toObject(e){return{hash:this.toHash(e)}}},{codec:11704592,name:"Arweave",scheme:"ar",gateway:e=>`https://arweave.net/${e}`,coder:th,validate(e){if(32!=e.length)throw new Error("expected 32 bytes")}}),Dh=[kh,Lh,Ih,Th,yh,mh,Uh,bh],Sh=new Map(Dh.map((e=>[e.codec,e]))),Qh=new Map(Dh.filter((e=>e.scheme)).map((e=>[e.scheme,e])));class Oh{static from(e,t){if(e instanceof Oh)return new this(e.bytes.slice());if(t){let r=Qh.get(t);if(r)return this.fromParts(r,r.parseHash(e));let n=Ah.find((e=>e.key===t));if(n)return this.fromParts(Uh,Eh(n.mime,n.encode(e)));if(t.includes("/"))return this.fromParts(Uh,Eh(t,y(e)));if(t===wh)return this.fromOnion(e)}let r=ya(e);if(r!==e)return this.fromBytes(r);if(wa(e))return this.fromURL(e);throw fa("unknown contenthash",{hint:t,value:e})}static fromParts(e,t){if(!Number.isInteger(e)){if(!e?.codec)throw fa("expected codec",{codec:e});e=e.codec}t=pa(t,!0);let r=[];za.write(r,e);let n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),new this(n)}static fromOnion(e){let t=ch.decode(e);if(10===t.length)return this.fromParts(yh,t);if(35===t.length){let r=mh,{pubkey:n}=r.toObject(t),o=r.fromPubkey(n);if(!Ba(t,o))throw fa("invalid onion checksum",{hash:e,data:t,expect:o});return this.fromParts(r,t)}throw fa("invalid onion hash",{hash:e,data:t})}static fromBytes(e){let t,r,n=pa(e,!1);try{[t,r]=za.read(n)}catch(e){throw fa("invalid contenthash",{bytes:n})}let o=Dh.find((e=>e.codec===t));if(!o)throw fa("unknown contenthash codec",{codec:t,bytes:n});return this.fromURL(o.toURL(n.subarray(r)))}static fromURL(e){let{scheme:t,authority:r}=Nh(e.toString()),n=Qh.get(t);return n?this.fromParts(n,n.parseHash(r)):"http"===t&&r.endsWith(gh)?this.fromOnion(r.slice(0,-6)):this.fromParts(bh,p(e))}constructor(e){this.bytes=e}get codec(){return za.read(this.bytes)[0]}get spec(){return Sh.get(this.codec)}get data(){return this._data.slice()}get _data(){let e=this.bytes;return e.subarray(za.read(e)[1])}toHash(){return this.spec.toHash(this._data)}toObject(){let{spec:e,_data:t}=this,{codec:r,name:n}=e;return{protocol:{codec:r,name:n},url:e.toURL(t),...e.toObject(t)}}toEntry(){return this.spec.toEntry(this._data)}toURL(){return this.spec.toURL(this._data)}toGatewayURL(){let{spec:e,_data:t}=this;return e.gateway?.(e.toHash(t),e,t)??e.toURL(t)}toPhex(){return Ea(this.bytes)}toJSON(){return this.toURL()}}function Nh(e){let t=e.indexOf("://");if(-1===t)throw fa("expected scheme separator",{url:e});let r=e.slice(0,t),n=e.slice(t+3),o="";return t=n.indexOf("/"),t>=0&&(o=n.slice(t),n=n.slice(0,t)),{scheme:r,authority:n,rest:o}}Object.freeze(Dh),Dh.forEach(Object.freeze);class Hh{static fromXY(e,t){let r=new this;return r.x=e,r.y=t,r}static from(e){if(!e)return new this;if(e instanceof this)return new this(e.bytes.slice());try{let t=ya(e);if(t instanceof Uint8Array)return new this(t);if("object"==typeof e)return this.fromXY(e.x,e.y);throw new Error("unknown format")}catch(t){throw fa("invalid pubkey",{value:e},t)}}constructor(e){if(e){if(!(e instanceof Uint8Array&&64==e.length))throw fa("expected 64 bytes",{bytes:e});this.bytes=e}else this.bytes=new Uint8Array(64)}get isNull(){return this.bytes.every((e=>0==e))}set x(e){this.bytes.set(ba(e))}set y(e){this.bytes.set(ba(e),32)}get x(){return this.bytes.slice(0,32)}get y(){return this.bytes.slice(32)}get address(){return Na.format(Yn(this.bytes).subarray(-20))}toObject(){let{x:e,y:t,address:r}=this;return{x:e,y:t,address:r}}toPhex(){return Ea(this.bytes)}toJSON(){let e=this.bytes;return{x:Fh(e.subarray(0,32)),y:Fh(e.subarray(32))}}}function Fh(e){return w(e).replace(/^0+(?!$)/,"0x")}const Rh=1506923580,Mh=4056645126,Vh=3155974353,Gh=3362325043,zh=1763652657,Kh=993744862,Jh="$",Ph="#",jh="#chash",Yh="#pubkey",qh="#name",Zh="#addr0";function Wh(e){let t=ya(e);if(e&&(e===t||t.length))return t}class Xh{static isSpecialKey(e){return e?.startsWith(Jh)||e?.startsWith(Ph)}static from(e,t){let r=new this;return r.import(e,t),r}constructor(){this._texts=new Map,this._addrs=new Map,this.clear()}clear(){this._texts.clear(),this._addrs.clear(),this._chash=void 0,this._pubkey=void 0,this._name=void 0}get size(){return this._texts.size+this._addrs.size+(this._chash?1:0)+(this._pubkey?1:0)+(this._name?1:0)}import(e,t){if(e instanceof Xh){for(let[t,r]of e._texts)this.set(t,r);for(let[t,r]of e._addrs)this.set(t,r.slice());e._chash&&(this._chash=e._chash.slice()),e._pubkey&&(this._pubkey=e._pubkey.slice()),e._name&&(this._name=e._name)}else if(e?.[Symbol.iterator])for(let[r,n]of e)this.set(r,n,t);else for(let[r,n]of Object.entries(e))this.set(r,n,t)}getChash(){let e=this._chash;return e?new Oh(e):void 0}setChash(e,t){let r=Wh(e);this._chash=r?Oh.from(r,t).bytes:void 0}getPubkey(){let e=this._pubkey;return e?new Hh(e):void 0}setPubkey(e){let t=Wh(e);this._pubkey=t?Hh.from(t).bytes:void 0}setName(e){if(e&&!wa(e))throw fa("expected string",{name:e});this._name=e||void 0}getTexts(){return[...this._texts]}setText(e,t){if(!wa(e)||t&&!wa(t))throw fa("expected strings",{key:e,value:t});t?this._texts.set(e,t):this._texts.delete(e)}getAddresses(){return Array.from(this._addrs,(([e,t])=>new Ha(Da.fromType(e),t)))}getAddress(e){let t=Da.from(e),r=this._addrs.get(t.type);return r?new Ha(t,r):void 0}setAddress(e,t){if(e instanceof Ha)this._addrs.set(e.coin.type,e.bytes.slice());else{let r=Da.from(e),n=Wh(t);n?this._addrs.set(r.type,Ha.from(r,n).bytes):this._addrs.delete(r.type)}}set(e,t,r){try{if(!wa(e))return this.setAddress(e,t);if(e.startsWith(Jh))return this.setAddress(e.slice(1),t);if(!e.startsWith(Ph))return this.setText(e,t);switch(e){case jh:return this.setChash(t);case Yh:return this.setPubkey(t);case qh:return this.setName(t);default:return this.setChash(t,e.slice(1))}}catch(n){if(!r)throw fa(`set "${e}": ${n.message}`,{key:e,value:t},n)}}delete(e,t){this.set(e,void 0,t)}*_entries(e){for(let[t,r]of this._texts)yield[t,e(r),Rh];for(let t of this.getAddresses())yield[Jh+t.coin.name,e(t),Mh];let t=this.getChash();t&&(yield[jh,e(t),Vh]);let r=this.getPubkey();r&&(yield[Yh,e(r),Gh]);let{_name:n}=this;n&&(yield[qh,e(n),zh])}[Symbol.iterator](){return this._entries((e=>e))}toEntries(e){let t=[...this._texts];for(let[e,r]of this._addrs){let n=Da.fromType(e);t.push([Jh+n.name,n.format(r)])}let r=this.getChash();if(r)if(e){let[e,n]=r.toEntry();t.push([e?Ph+e:jh,n])}else t.push([jh,r.toPhex()]);let n=this.getPubkey();n&&t.push([Yh,e?n.toJSON():n.toPhex()]);let{_name:o}=this;return o&&t.push([qh,o]),t}toObject(){return Object.fromEntries(this._entries((e=>wa(e)?e:e.toObject())))}toJSON(e){return Object.fromEntries(this.toEntries(e))}makeSetters({name:e,node:t=0,addr0:r=!1,init:n=new Xh}={}){t=e?da(e):ba(t);let o=[];for(let e of new Set([...n._texts.keys(),...this._texts.keys()])){let r=n._texts.get(e),i=this._texts.get(e);r!==i&&o.push(Ua("iss",[t,e,i??""],284244620))}for(let e of new Set([...n._addrs.keys(),...this._addrs.keys()])){let i=n._addrs.get(e),s=this._addrs.get(e);Ba(i,s)||(r&&60==e?o.push(Ua("ii",[t,e,s?Ea(s):0],3589942016)):o.push(Ua("iiv",[t,e,s??[]],2341854577)))}return Ba(n._chash,this._chash)||o.push(Ua("iv",[t,this._chash||[]],810445534)),Ba(n._pubkey,this._pubkey)||o.push(Ua("ix",[t,this._pubkey||new Uint8Array(64)],701326058)),n._name!==this._name&&o.push(Ua("is",[t,this._name||""],2000101907)),o}parseCalls(e,t){if(e.length!=t.length)throw fa("call/answer mismatch",{calls:e.length,answers:t.size});e.forEach(((e,r)=>{try{this.parseCall(e,t[r])}catch(e){}}))}parseCall(e,t){try{if(e=pa(e,!1),!(t=pa(t,!1)).length)throw new Error("no answer");if(!(t.length-4&31))throw new Error("revert");if(31&t.length)throw new Error("odd answer");switch(s(e).getUint32(0)){case Rh:{let r=ma(ed(e.subarray(4),32)),n=ma(ed(t,0));return this.setText(r,n)}case Mh:{let r=ed(t,0);return this.setAddress(xa(e,36),r.length&&r)}case Vh:{let e=ed(t,0);return this.setChash(e.length&&e)}case zh:return this.setName(ma(ed(t,0)));case Gh:return this.setPubkey(t.some((e=>e))&&t);case Kh:{if(32!=t.length)throw new Error("expected 32 bytes");let e=t.subarray(-20);return this.setAddress(60,e.some((e=>e))&&e)}default:throw new Error("unknown sighash")}}catch(r){throw fa("parse error",{call:e,answer:t},r)}}text(e){return this._texts.get(e)}addr(e){return this._addrs.get(Da.type(e))}contenthash(){return this._chash}pubkey(){return this._pubkey}name(){return this._name}}for(let e of[jh,Yh,qh])Object.defineProperty(Xh,e.slice(1).toUpperCase(),{value:e});class $h{static ENS(){let e=new $h;return e.setText(["name","email","url","avatar","location","description","notice","keywords","com.discord","com.github","com.reddit","com.twitter","org.telegram"]),e.setCoin(["eth","btc","bnb","doge","ltc","dot","sol"]),e.chash=!0,e.pubkey=!0,e}static from(e){let t=new this;return t.import(e),t}constructor(){this.clear()}clear(){this.texts=new Set,this.coins=new Set,this.chash=!1,this.pubkey=!1,this.name=!1,this.addr0=!1}get size(){return this.texts.size+this.coins.size+this.chash+this.pubkey+this.name+this.addr0}import(e){if(e instanceof Xh){for(let t of e._texts.keys())this.texts.add(t);for(let t of e._addrs.keys())this.coins.add(t);e._chash&&(this.chash=!0),e._pubkey&&(this.pubkey=!0),e._name&&(this.name=!0)}else if(e instanceof $h){for(let t of e.texts)this.texts.add(t);for(let t of e.coins)this.coins.add(t);this.chash=e.chash,this.pubkey=e.pubkey,this.name=e.name,this.addr0=e.addr0}else{if(!e||"object"!=typeof e)throw fa("unknown profile format",{profile:e});Array.isArray(e.texts)&&this.setText(e.texts),Array.isArray(e.coins)&&this.setCoin(e.coins),this.chash=!!e.chash||!!e.contentHash,this.pubkey=!!e.pubkey,this.name=!!e.name,this.addr0=!!e.addr0}}set(e,t=!0){if(wa(e))if(e.startsWith(Ph))switch(e){case jh:this.chash=t;break;case Yh:this.pubkey=t;break;case qh:this.name=t;break;case Zh:this.addr0=t;break;default:throw fa("unknown property",{prop:e})}else e.startsWith(Jh)?this.setCoin(e.slice(1),t):this.setText(e,t);else if(e?.[Symbol.iterator])for(let r of e)this.set(r,t);else this.setCoin(e,t)}setText(e,t=!0){if(wa(e))t?this.texts.add(e):this.texts.delete(e);else{if(!e?.[Symbol.iterator])throw fa("expected string",{value:e});for(let r of e)this.setText(r,t)}}setCoin(e,t=!0){if(!wa(e)&&e?.[Symbol.iterator])for(let r of e)this.setCoin(r,t);else{let{type:r}=Da.from(e);t?this.coins.add(r):this.coins.delete(r)}}getCoins(){return Array.from(this.coins,(e=>Da.fromType(e)))}*[Symbol.iterator](){yield*Array.from(this.texts);for(let e of this.coins)yield Da.fromType(e).name;this.chash&&(yield jh),this.pubkey&&(yield Yh),this.name&&(yield qh),this.addr0&&(yield Zh)}makeGetters({name:e,node:t=0}={}){t=e?da(e):ba(t);let r=[];for(let e of this.texts)r.push(Ua("is",[t,e],Rh));for(let e of this.coins)r.push(Ua("ii",[t,e],Mh));return this.chash&&r.push(Ua("i",[t],Vh)),this.pubkey&&r.push(Ua("i",[t],Gh)),this.name&&r.push(Ua("i",[t],zh)),this.addr0&&r.push(Ua("i",[t],Kh)),r}toJSON(e){let t={texts:[...this.texts],coins:this.getCoins().map((t=>t.toJSON(e)))};return t.chash=this.chash,t.pubkey=this.pubkey,t.name=this.name,t.addr0=this.addr0,t}}function _h(e){if(e>Number.MAX_SAFE_INTEGER)throw fa("overflow",{i:e});return Number(e)}function ed(e,t){t=_h(xa(e,t));let r=_h(xa(e,t));return t+=32,e.subarray(t,t+r)}const td=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function rd(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),o=1,i=[0,1];for(let e=1;e<n;e++)i.push(o+=r());let s=r(),c=t;t+=s;let a=0,h=0;function d(){return 0==a&&(h=h<<8|e[t++],a=8),h>>--a&1}const l=2**31,f=l>>>1,u=f>>1,w=l-1;let A=0;for(let e=0;e<31;e++)A=A<<1|d();let g=[],p=0,y=l;for(;;){let e=Math.floor(((A-p+1)*o-1)/y),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<i[n]?r=n:t=n}if(0==t)break;g.push(t);let s=p+Math.floor(y*i[t]/o),c=p+Math.floor(y*i[t+1]/o)-1;for(;!((s^c)&f);)A=A<<1&w|d(),s=s<<1&w,c=c<<1&w|1;for(;s&~c&u;)A=A&f|A<<1&w>>>1|d(),s=s<<1^f,c=(c^f)<<1|f|1;p=s,y=1+c-s}let m=n-4;return g.map((t=>{switch(t-m){case 3:return m+65792+(e[c++]<<16|e[c++]<<8|e[c++]);case 2:return m+256+(e[c++]<<8|e[c++]);case 1:return m+e[c++];default:return t-1}}))}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((e,r)=>t[e.charCodeAt(0)]=r));let r=e.length,n=new Uint8Array(6*r>>3);for(let o=0,i=0,s=0,c=0;o<r;o++)c=c<<6|t[e.charCodeAt(o)],s+=6,s>=8&&(n[i++]=c>>(s-=8));return n}(e)))}function nd(e){return 1&e?~e>>1:e>>1}function od(e,t){let r=Array(e);for(let n=0,o=0;n<e;n++)r[n]=o+=nd(t());return r}function id(e,t=0){let r=[];for(;;){let n=e(),o=e();if(!o)break;t+=n;for(let e=0;e<o;e++)r.push(t+e);t+=o+1}return r}function sd(e){return ad((()=>{let t=id(e);if(t.length)return t}))}function cd(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(dd(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(ld(r,e))}return t.flat()}function ad(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function hd(e,t,r){let n=Array(e).fill().map((()=>[]));for(let o=0;o<t;o++)od(e,r).forEach(((e,t)=>n[t].push(e)));return n}function dd(e,t){let r=1+t(),n=t(),o=ad(t);return hd(o.length,1+e,t).flatMap(((e,t)=>{let[i,...s]=e;return Array(o[t]).fill().map(((e,t)=>{let o=t*n;return[i+t*r,s.map((e=>e+o))]}))}))}function ld(e,t){return hd(1+t(),1+e,t).map((e=>[e[0],e.slice(1)]))}function fd(e){return`{${function(e){return e.toString(16).toUpperCase().padStart(2,"0")}(e)}}`}function ud(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function wd(e,t){let r=e.length,n=r-t.length;for(let o=0;0==n&&o<r;o++)n=e[o]-t[o];return n}function Ad(e,t,r){let n=0;for(;;){let o=e.indexOf(t,n);if(o<0)break;e[o]=r,n=o+1}}const gd=44032,pd=4352,yd=4449,md=4519;function bd(e){return e>>24&255}function Ed(e){return 16777215&e}let xd,Bd,Ud,vd;function Cd(e){return e>=gd&&e<55204}function kd(e,t){if(e>=pd&&e<4371&&t>=yd&&t<4470)return gd+588*(e-pd)+28*(t-yd);if(Cd(e)&&t>md&&t<4547&&(e-gd)%28==0)return e+(t-md);{let r=vd.get(e);return r&&(r=r.get(t),r)?r:-1}}function Ld(e){xd||function(){let e=rd("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");xd=new Map(sd(e).flatMap(((e,t)=>e.map((e=>[e,t+1<<24]))))),Bd=new Set(id(e)),Ud=new Map,vd=new Map;for(let[t,r]of cd(e)){if(!Bd.has(t)&&2==r.length){let[e,n]=r,o=vd.get(e);o||(o=new Map,vd.set(e,o)),o.set(n,t)}Ud.set(t,r.reverse())}}();let t=[],r=[],n=!1;function o(e){let r=xd.get(e);r&&(n=!0,e|=r),t.push(e)}for(let n of e)for(;;){if(n<128)t.push(n);else if(Cd(n)){let e=n-gd,t=e%588/28|0,r=e%28;o(pd+(e/588|0)),o(yd+t),r>0&&o(md+r)}else{let e=Ud.get(n);e?r.push(...e):o(n)}if(!r.length)break;n=r.pop()}if(n&&t.length>1){let e=bd(t[0]);for(let r=1;r<t.length;r++){let n=bd(t[r]);if(0==n||e<=n){e=n;continue}let o=r-1;for(;;){let r=t[o+1];if(t[o+1]=t[o],t[o]=r,!o)break;if(e=bd(t[--o]),e<=n)break}e=bd(t[r])}}return t}function Id(e){return Ld(e).map(Ed)}function Td(e){return function(e){let t=[],r=[],n=-1,o=0;for(let i of e){let e=bd(i),s=Ed(i);if(-1==n)0==e?n=s:t.push(s);else if(o>0&&o>=e)0==e?(t.push(n,...r),r.length=0,n=s):r.push(s),o=e;else{let i=kd(n,s);i>=0?n=i:0==o&&0==e?(t.push(n),n=s):(r.push(s),o=e)}}return n>=0&&t.push(n,...r),t}(Ld(e))}const Dd=e=>Array.from(e);function Sd(e,t){return e.P.has(t)||e.Q.has(t)}class Qd extends Array{get is_emoji(){return!0}}let Od,Nd,Hd,Fd,Rd,Md,Vd,Gd,zd,Kd,Jd;function Pd(){if(Od)return;let e=rd("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");const t=()=>id(e),r=()=>new Set(t()),n=(e,t)=>t.forEach((t=>e.add(t)));Od=new Map(cd(e)),Nd=r(),Hd=t(),Fd=new Set(t().map((e=>Hd[e]))),Hd=new Set(Hd),Rd=r(),r();let o=sd(e),i=e();const s=()=>{let e=new Set;return t().forEach((t=>n(e,o[t]))),n(e,t()),e};Md=ad((t=>{let r=ad(e).map((e=>e+96));if(r.length){let n=t>=i;return r[0]-=32,r=ud(r),n&&(r=`Restricted[${r}]`),{N:r,P:s(),Q:s(),M:!e(),R:n}}})),Vd=r(),Gd=new Map;let c=t().concat(Dd(Vd)).sort(((e,t)=>e-t));c.forEach(((t,r)=>{let n=e(),o=c[r]=n?c[r-n]:{V:[],M:new Map};o.V.push(t),Vd.has(t)||Gd.set(t,o)}));for(let{V:e,M:t}of new Set(Gd.values())){let r=[];for(let t of e){let e=Md.filter((e=>Sd(e,t))),o=r.find((({G:t})=>e.some((e=>t.has(e)))));o||(o={G:new Set,V:[]},r.push(o)),o.V.push(t),n(o.G,e)}let o=r.flatMap((e=>Dd(e.G)));for(let{G:e,V:n}of r){let r=new Set(o.filter((t=>!e.has(t))));for(let e of n)t.set(e,r)}}zd=new Set;let a=new Set;const h=e=>zd.has(e)?a.add(e):zd.add(e);for(let e of Md){for(let t of e.P)h(t);for(let t of e.Q)h(t)}for(let e of zd)Gd.has(e)||a.has(e)||Gd.set(e,1);n(zd,Id(zd)),Kd=function(e){let t=[],r=id(e);return function e({S:r,B:n},o,i){if(!(4&r&&i===o[o.length-1])){2&r&&(i=o[o.length-1]),1&r&&t.push(o);for(let t of n)for(let r of t.Q)e(t,[...o,r],i)}}(function t(n){return{S:e(),B:ad((()=>{let n=id(e).map((e=>r[e]));if(n.length)return t(n)})),Q:n}}([]),[]),t}(e).map((e=>Qd.from(e))).sort(wd),Jd=new Map;for(let e of Kd){let t=[Jd];for(let r of e){let e=t.map((e=>{let t=e.get(r);return t||(t=new Map,e.set(r,t)),t}));65039===r?t.push(...e):t=e}for(let r of t)r.V=e}}function jd(e){return(Zd(e)?"":`${Yd(qd([e]))} `)+fd(e)}function Yd(e){return`"${e}"‎`}function qd(e,t=1/0,r=fd){let n=[];var o;o=e[0],Pd(),Hd.has(o)&&n.push("◌"),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let i=0,s=e.length;for(let t=0;t<s;t++){let o=e[t];Zd(o)&&(n.push(ud(e.slice(i,t))),n.push(r(o)),i=t+1)}return n.push(ud(e.slice(i,s))),n.join("")}function Zd(e){return Pd(),Rd.has(e)}function Wd(e,t,r){if(!e)return[];Pd();let n=0;return e.split(".").map((e=>{let o=function(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}(e),i={input:o,offset:n};n+=o.length+1;try{let e,n=i.tokens=function(e,t,r){let n=[],o=[];for(e=e.slice().reverse();e.length;){let i=rl(e);if(i)o.length&&(n.push(t(o)),o=[]),n.push(r(i));else{let t=e.pop();if(zd.has(t))o.push(t);else{let e=Od.get(t);if(e)o.push(...e);else if(!Nd.has(t))throw $d(t)}}}return o.length&&n.push(t(o)),n}(o,t,r),s=n.length;if(!s)throw new Error("empty label");let c=i.output=n.flat();if(function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw new Error("underscore allowed only at start")}(c),!(i.emoji=s>1||n[0].is_emoji)&&c.every((e=>e<128)))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw new Error(`invalid label extension: "${ud(e.slice(0,4))}"`)}(c),e="ASCII";else{let t=n.flatMap((e=>e.is_emoji?[]:e));if(t.length){if(Hd.has(c[0]))throw el("leading combining mark");for(let e=1;e<s;e++){let t=n[e];if(!t.is_emoji&&Hd.has(t[0]))throw el(`emoji + combining mark: "${ud(n[e-1])} + ${qd([t[0]])}"`)}!function(e){let t=e[0],r=td.get(t);if(r)throw el(`leading ${r}`);let n=e.length,o=-1;for(let i=1;i<n;i++){t=e[i];let n=td.get(t);if(n){if(o==i)throw el(`${r} + ${n}`);o=i+1,r=n}}if(o==n)throw el(`trailing ${r}`)}(c);let r=Dd(new Set(t)),[o]=function(e){let t=Md;for(let r of e){let e=t.filter((e=>Sd(e,r)));if(!e.length)throw Md.some((e=>Sd(e,r)))?_d(t[0],r):$d(r);if(t=e,1==e.length)break}return t}(r);!function(e,t){for(let r of t)if(!Sd(e,r))throw _d(e,r);if(e.M){let e=Id(t);for(let t=1,r=e.length;t<r;t++)if(Fd.has(e[t])){let n=t+1;for(let o;n<r&&Fd.has(o=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==o)throw new Error(`duplicate non-spacing marks: ${jd(o)}`);if(n-t>4)throw new Error(`excessive non-spacing marks: ${Yd(qd(e.slice(t-1,n)))} (${n-t}/4)`);t=n}}}(o,t),function(e,t){let r,n=[];for(let e of t){let t=Gd.get(e);if(1===t)return;if(t){let n=t.M.get(e);if(r=r?r.filter((e=>n.has(e))):Dd(n),!r.length)return}else n.push(e)}if(r)for(let t of r)if(n.every((e=>Sd(t,e))))throw new Error(`whole-script confusable: ${e.N}/${t.N}`)}(o,r),e=o.N}else e="Emoji"}i.type=e}catch(e){i.error=e}return i}))}function Xd(e){return e.map((({input:t,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==e.length?n:`Invalid label ${Yd(qd(t,63))}: ${n}`)}return ud(n)})).join(".")}function $d(e){return new Error(`disallowed character: ${jd(e)}`)}function _d(e,t){let r=jd(t),n=Md.find((e=>e.P.has(t)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${e.N} + ${r}`)}function el(e){return new Error(`illegal placement: ${e}`)}function tl(e){return e.filter((e=>65039!=e))}function rl(e,t){let r,n=Jd,o=e.length;for(;o&&(n=n.get(e[--o]),n);){let{V:t}=n;t&&(r=t,e.length=o)}return r}class nl extends Map{static create(e){return this.root().create(e)}static root(e="root"){return new this(`[${e}]`)}constructor(e,t){super(),this.label=e,this.parent=t||void 0,this.record=null}get labelhash(){return this.parent?Yn(this.label):new Uint8Array(32)}get namehash(){return da(this.path().map((e=>e.label)))}get dns(){return la(this.path().map((e=>e.label)))}get prettyName(){return function(e){let t=Wd(e,Td,(e=>e));for(let{type:e,output:r,error:n}of t){if(n)break;"Greek"!==e&&Ad(r,958,926)}return Xd(t)}(this.name)}get name(){return this.path().map((e=>e.label)).join(".")}get depth(){let e=0;for(let t=this;t.parent;t=t.parent)++e;return e}get nodeCount(){let e=0;return this.scan((()=>++e)),e}get root(){let e=this;for(;e.parent;)e=e.parent;return e}path(e){let t=[];for(let r=this;e?r:r.parent;r=r.parent)t.push(r);return t}find(e){return ha(e).reduceRight(((e,t)=>e?.get(t)),this)}create(e){return ha(e).reduceRight(((e,t)=>e.child(t)),this)}child(e){if(!e)throw new Error("empty label");if((e=Xd(Wd(e,Td,tl))).includes("."))throw fa("expected single label",{label:e});let t=this.get(e);return t||(t=new nl(e,this),this.set(e,t)),t}import(e){try{if("object"!=typeof e||Array.isArray(e))throw new Error("expected object");let t=[];for(let[r,n]of Object.entries(e))if("."===r)this.record=Xh.from(n);else if(Xh.isSpecialKey(r)||n?.constructor!==Object)t.push([r,n]);else{let e=r.trim();if(!e)throw new Error("expected label");for(let t of e.split(/\s+/))this.create(t).import(n)}t.length&&(this.record||(this.record=new Xh),this.record.import(t))}catch(t){throw fa(`import "${this.name}": ${t.message}`,{json:e},t)}}toJSON(){if(this.record&&!this.size)return this.record.toJSON();let e={};this.record&&(e["."]=this.record.toJSON());for(let[t,r]of this)e[t]=r.toJSON();return e}scan(e,t=0){e(this,t++);for(let r of this.values())r.scan(e,t)}collect(e){let t=[];return this.scan(((r,n)=>{let o=e(r,n);null!=o&&t.push(o)})),t}flat(){return this.collect((e=>e))}print(){this.scan(((e,t)=>{let r="  ".repeat(t)+e.label;e.record&&(r+="*"),e.size&&(r+=` (${e.size})`),console.log(r)}))}}export{Ha as Address,Th as Arweave,Oh as Chash,Da as Coin,Uh as DataURL,Na as ETH,bh as GenericURL,kh as IPFS,Lh as IPNS,nl as Node,mh as Onion,$h as Profile,Hh as Pubkey,Xh as Record,Dh as SPECS,Ih as Swarm,Oa as UnknownCoin,Sa as UnnamedCoin,Qa as UnnamedEVMCoin,Ua as abi_encode,Ba as array_equals,xa as bigint_at,ba as bytes32_from,pa as bytes_from,la as dns_encoded,fa as error_with,Aa as is_bigint,ua as is_number,ga as is_samecase_phex,wa as is_string,da as namehash,ha as namesplit,Ea as phex_from_bytes,ya as try_coerce_bytes,ma as utf8_from_bytes};
